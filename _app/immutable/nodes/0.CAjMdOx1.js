import"../chunks/DsnmJJEf.js";import{aW as Ia,t as Lt,D as qn,E as Un,k as Ca,bf as Aa,ab as Hn,ad as $a,au as Fa,aE as Ra,ax as Oa,aC as zn,J as Na,aI as Ma,av as wr,a3 as V,bg as Bn,a9 as Da,v as m,T as C,aa as Ut,u as Te,o as hr,p as Tt,R as ot,a6 as N,bh as dn,A as re,a5 as Q,a as j,b as $,B as ie,f as ne,s as we,aQ as La,aP as Vn,aR as ja,a4 as qa,bb as De,bi as dr,c as Fe,r as Re,n as $r,a7 as ci}from"../chunks/CuQ71izo.js";import{c as fr,b as Zs,o as Ua,a as ce}from"../chunks/C1AOsR-M.js";import{s as ei,c as hi,a as It,b as Ha,d as za}from"../chunks/DR5QuxU8.js";import{o as Ee}from"../chunks/DqzTG8kn.js";import{i as Le,p as A,r as ke,c as pr,s as _t}from"../chunks/Dxx2Ik9L.js";import"../chunks/D5VRIxKs.js";import{c as Ct,T as Ba,I as Qs,B as Va}from"../chunks/DGTj302a.js";import{b as Er}from"../chunks/DrOOfdmL.js";function Wa(){return Symbol(Ia)}function Ga(i,e,t=!1,r=!1,n=!1){var s=i,o="";Lt(()=>{var a=Ca;if(o===(o=e()??"")){qn&&Un();return}if(a.nodes_start!==null&&(Aa(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),o!==""){if(qn){Hn.data;for(var l=Un(),u=l;l!==null&&(l.nodeType!==$a||l.data!=="");)u=l,l=Fa(l);if(l===null)throw Ra(),Oa;zn(Hn,u),s=Na(l);return}var c=o+"";t?c=`<svg>${c}</svg>`:r&&(c=`<math>${c}</math>`);var h=Ma(c);if((t||r)&&(h=wr(h)),zn(wr(h),h.lastChild),t||r)for(;wr(h);)s.before(wr(h));else s.before(h)}})}var g=typeof window<"u"?window:void 0,pe=typeof globalThis<"u"?globalThis:g,eo=Array.prototype,Wn=eo.forEach,Gn=eo.indexOf,ye=pe?.navigator,w=pe?.document,fe=pe?.location,Fi=pe?.fetch,Ri=pe!=null&&pe.XMLHttpRequest&&"withCredentials"in new pe.XMLHttpRequest?pe.XMLHttpRequest:void 0,Kn=pe?.AbortController,de=ye?.userAgent,T=g??{},qe={DEBUG:!1,LIB_VERSION:"1.280.1"};function Yn(i,e,t,r,n,s,o){try{var a=i[s](o),l=a.value}catch(u){return void t(u)}a.done?e(l):Promise.resolve(l).then(r,n)}function Xn(i){return function(){var e=this,t=arguments;return new Promise((function(r,n){var s=i.apply(e,t);function o(l){Yn(s,r,n,o,a,"next",l)}function a(l){Yn(s,r,n,o,a,"throw",l)}o(void 0)}))}}function k(){return k=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},k.apply(null,arguments)}function to(i,e){if(i==null)return{};var t={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)!==-1)continue;t[r]=i[r]}return t}var Ka=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function R(i,e){return i.indexOf(e)!==-1}var ti=function(i){return i.trim()},Oi=function(i){return i.replace(/^\$/,"")},Ya=Array.isArray,ro=Object.prototype,io=ro.hasOwnProperty,ri=ro.toString,H=Ya||function(i){return ri.call(i)==="[object Array]"},tt=i=>typeof i=="function",ae=i=>i===Object(i)&&!H(i),xt=i=>{if(ae(i)){for(var e in i)if(io.call(i,e))return!1;return!0}return!1},b=i=>i===void 0,Z=i=>ri.call(i)=="[object String]",Ni=i=>Z(i)&&i.trim().length===0,Be=i=>i===null,q=i=>b(i)||Be(i),Me=i=>ri.call(i)=="[object Number]",rt=i=>ri.call(i)==="[object Boolean]",Xa=i=>i instanceof FormData,Ja=i=>R(Ka,i);function Mi(i){return i===null||typeof i!="object"}function Mr(i,e){return Object.prototype.toString.call(i)==="[object "+e+"]"}function no(i){return!b(Event)&&(function(e,t){try{return e instanceof t}catch{return!1}})(i,Event)}var Za=[!0,"true",1,"1","yes"],di=i=>R(Za,i),Qa=[!1,"false",0,"0","no"];function Ae(i,e,t,r,n){return e>t&&(r.warn("min cannot be greater than max."),e=t),Me(i)?i>t?(r.warn(" cannot be  greater than max: "+t+". Using max value instead."),t):i<e?(r.warn(" cannot be less than min: "+e+". Using min value instead."),e):i:(r.warn(" must be a number. using max or fallback. max: "+t+", fallback: "+n),Ae(n||t,e,t,r))}class el{constructor(e){this.t=e,this.i={},this.o=()=>{Object.keys(this.i).forEach((t=>{var r=this.h(t)+this.m;r>=this.S?delete this.i[t]:this.$(t,r)}))},this.h=t=>this.i[String(t)],this.$=(t,r)=>{this.i[String(t)]=r},this.consumeRateLimit=t=>{var r,n,s=(r=this.h(t))!==null&&r!==void 0?r:this.S;if((s=Math.max(s-1,0))===0)return!0;this.$(t,s);var o=s===0;return o&&((n=this.k)==null||n.call(this,t)),o},this.k=this.t.k,this.S=Ae(this.t.bucketSize,0,100,this.t.P),this.m=Ae(this.t.refillRate,0,this.S,this.t.P),this.T=Ae(this.t.refillInterval,0,864e5,this.t.P),this.I=setInterval((()=>{this.o()}),this.T)}stop(){this.I&&(clearInterval(this.I),this.I=void 0)}}var xr,Jn,fi,tl=i=>i instanceof Error;function rl(i){var e=globalThis._posthogChunkIds;if(e){var t=Object.keys(e);return fi&&t.length===Jn||(Jn=t.length,fi=t.reduce(((r,n)=>{xr||(xr={});var s=xr[n];if(s)r[s[0]]=s[1];else for(var o=i(n),a=o.length-1;a>=0;a--){var l=o[a],u=l?.filename,c=e[n];if(u&&c){r[u]=c,xr[n]=[u,c];break}}return r}),{})),fi}}var At="?";function Di(i,e,t,r){var n={platform:"web:javascript",filename:i,function:e==="<anonymous>"?At:e,in_app:!0};return b(t)||(n.lineno=t),b(r)||(n.colno=r),n}var so=(i,e)=>{var t=i.indexOf("safari-extension")!==-1,r=i.indexOf("safari-web-extension")!==-1;return t||r?[i.indexOf("@")!==-1?i.split("@")[0]:At,t?"safari-extension:"+e:"safari-web-extension:"+e]:[i,e]},il=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,nl=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,sl=/\((\S*)(?::(\d+))(?::(\d+))\)/,ol=i=>{var e=il.exec(i);if(e){var[,t,r,n]=e;return Di(t,At,+r,+n)}var s=nl.exec(i);if(s){if(s[2]&&s[2].indexOf("eval")===0){var o=sl.exec(s[2]);o&&(s[2]=o[1],s[3]=o[2],s[4]=o[3])}var[a,l]=so(s[1]||At,s[2]);return Di(l,a,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}},al=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ll=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ul=i=>{var e=al.exec(i);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){var t=ll.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}var r=e[3],n=e[1]||At;return[n,r]=so(n,r),Di(r,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},Zn=/\(error: (.*)\)/,Qn=50;function cl(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(r,n){n===void 0&&(n=0);for(var s=[],o=r.split(`
`),a=n;a<o.length;a++){var l=o[a];if(!(l.length>1024)){var u=Zn.test(l)?l.replace(Zn,"$1"):l;if(!u.match(/\S*Error: /)){for(var c of e){var h=c(u);if(h){s.push(h);break}}if(s.length>=Qn)break}}}return(function(p){if(!p.length)return[];var d=Array.from(p);return d.reverse(),d.slice(0,Qn).map((v=>{return k({},v,{filename:v.filename||(f=d,f[f.length-1]||{}).filename,function:v.function||At});var f}))})(s)}}class hl{constructor(e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r=[]),this.coercers=e,this.modifiers=r,this.stackParser=cl(...t)}buildFromUnknown(e,t){t===void 0&&(t={});var r=t&&t.mechanism||{handled:!0,type:"generic"},n=this.buildCoercingContext(r,t,0).apply(e),s=this.buildParsingContext(),o=this.parseStacktrace(n,s);return{$exception_list:this.convertToExceptionList(o,r),$exception_level:"error"}}modifyFrames(e){var t=this;return Xn((function*(){for(var r of e)r.stacktrace&&r.stacktrace.frames&&H(r.stacktrace.frames)&&(r.stacktrace.frames=yield t.applyModifiers(r.stacktrace.frames));return e}))()}coerceFallback(e){var t;return{type:"Error",value:"Unknown error",stack:(t=e.syntheticException)==null?void 0:t.stack,synthetic:!0}}parseStacktrace(e,t){var r,n;return e.cause!=null&&(r=this.parseStacktrace(e.cause,t)),e.stack!=""&&e.stack!=null&&(n=this.applyChunkIds(this.stackParser(e.stack,e.synthetic?1:0),t.chunkIdMap)),k({},e,{cause:r,stack:n})}applyChunkIds(e,t){return e.map((r=>(r.filename&&t&&(r.chunk_id=t[r.filename]),r)))}applyCoercers(e,t){for(var r of this.coercers)if(r.match(e))return r.coerce(e,t);return this.coerceFallback(t)}applyModifiers(e){var t=this;return Xn((function*(){var r=e;for(var n of t.modifiers)r=yield n(r);return r}))()}convertToExceptionList(e,t){var r,n,s,o={type:e.type,value:e.value,mechanism:{type:(r=t.type)!==null&&r!==void 0?r:"generic",handled:(n=t.handled)===null||n===void 0||n,synthetic:(s=e.synthetic)!==null&&s!==void 0&&s}};e.stack&&(o.stacktrace={type:"raw",frames:e.stack});var a=[o];return e.cause!=null&&a.push(...this.convertToExceptionList(e.cause,k({},t,{handled:!0}))),a}buildParsingContext(){return{chunkIdMap:rl(this.stackParser)}}buildCoercingContext(e,t,r){r===void 0&&(r=0);var n=(s,o)=>{if(o<=4){var a=this.buildCoercingContext(e,t,o);return this.applyCoercers(s,a)}};return k({},t,{syntheticException:r==0?t.syntheticException:void 0,mechanism:e,apply:s=>n(s,r),next:s=>n(s,r+1)})}}class dl{match(e){return this.isDOMException(e)||this.isDOMError(e)}coerce(e,t){var r=Z(e.stack);return{type:this.getType(e),value:this.getValue(e),stack:r?e.stack:void 0,cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return this.isDOMError(e)?"DOMError":"DOMException"}getValue(e){var t=e.name||(this.isDOMError(e)?"DOMError":"DOMException");return e.message?t+": "+e.message:t}isDOMException(e){return Mr(e,"DOMException")}isDOMError(e){return Mr(e,"DOMError")}}class fl{match(e){return(t=>t instanceof Error)(e)}coerce(e,t){return{type:this.getType(e),value:this.getMessage(e,t),stack:this.getStack(e),cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return e.name||e.constructor.name}getMessage(e,t){var r=e.message;return r.error&&typeof r.error.message=="string"?String(r.error.message):String(r)}getStack(e){return e.stacktrace||e.stack||void 0}}class pl{constructor(){}match(e){return Mr(e,"ErrorEvent")&&e.error!=null}coerce(e,t){var r,n=t.apply(e.error);return n||{type:"ErrorEvent",value:e.message,stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}}var gl=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class vl{match(e){return typeof e=="string"}coerce(e,t){var r,[n,s]=this.getInfos(e);return{type:n??"Error",value:s??e,stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}getInfos(e){var t="Error",r=e,n=e.match(gl);return n&&(t=n[1],r=n[2]),[t,r]}}var _l=["fatal","error","warning","log","info","debug"];function oo(i,e){e===void 0&&(e=40);var t=Object.keys(i);if(t.sort(),!t.length)return"[object has no keys]";for(var r=t.length;r>0;r--){var n=t.slice(0,r).join(", ");if(!(n.length>e))return r===t.length||n.length<=e?n:n.slice(0,e)+"..."}return""}class ml{match(e){return typeof e=="object"&&e!==null}coerce(e,t){var r,n=this.getErrorPropertyFromObject(e);return n?t.apply(n):{type:this.getType(e),value:this.getValue(e),stack:(r=t.syntheticException)==null?void 0:r.stack,level:this.isSeverityLevel(e.level)?e.level:"error",synthetic:!0}}getType(e){return no(e)?e.constructor.name:"Error"}getValue(e){if("name"in e&&typeof e.name=="string"){var t="'"+e.name+"' captured as exception";return"message"in e&&typeof e.message=="string"&&(t+=" with message: '"+e.message+"'"),t}if("message"in e&&typeof e.message=="string")return e.message;var r=this.getObjectClassName(e);return(r&&r!=="Object"?"'"+r+"'":"Object")+" captured as exception with keys: "+oo(e)}isSeverityLevel(e){return Z(e)&&!Ni(e)&&_l.indexOf(e)>=0}getErrorPropertyFromObject(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t];if(tl(r))return r}}getObjectClassName(e){try{var t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{return}}}class yl{match(e){return no(e)}coerce(e,t){var r,n=e.constructor.name;return{type:n,value:n+" captured as exception with keys: "+oo(e),stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}}class bl{match(e){return Mi(e)}coerce(e,t){var r;return{type:"Error",value:"Primitive value captured as exception: "+String(e),stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}}}class wl{match(e){return Mr(e,"PromiseRejectionEvent")}coerce(e,t){var r,n=this.getUnhandledRejectionReason(e);return Mi(n)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(n),stack:(r=t.syntheticException)==null?void 0:r.stack,synthetic:!0}:t.apply(n)}getUnhandledRejectionReason(e){if(Mi(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}}var ao=i=>{var e={R:function(t){if(g&&(qe.DEBUG||T.POSTHOG_DEBUG)&&!b(g.console)&&g.console){for(var r=("__rrweb_original__"in g.console[t])?g.console[t].__rrweb_original__:g.console[t],n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];r(i,...s)}},info:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.R("log",...r)},warn:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.R("warn",...r)},error:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.R("error",...r)},critical:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console.error(i,...r)},uninitializedWarning:t=>{e.error("You must initialize PostHog before calling "+t)},createLogger:t=>ao(i+" "+t)};return e},x=ao("[PostHog.js]"),ee=x.createLogger,El=ee("[ExternalScriptsLoader]"),es=(i,e,t)=>{if(i.config.disable_external_dependency_loading)return El.warn(e+" was requested but loading of external scripts is disabled."),t("Loading of external scripts is disabled");var r=w?.querySelectorAll("script");if(r){for(var n,s=function(){if(r[o].src===e){var l=r[o];return l.__posthog_loading_callback_fired?{v:t()}:(l.addEventListener("load",(u=>{l.__posthog_loading_callback_fired=!0,t(void 0,u)})),l.onerror=u=>t(u),{v:void 0})}},o=0;o<r.length;o++)if(n=s())return n.v}var a=()=>{if(!w)return t("document not found");var l=w.createElement("script");if(l.type="text/javascript",l.crossOrigin="anonymous",l.src=e,l.onload=h=>{l.__posthog_loading_callback_fired=!0,t(void 0,h)},l.onerror=h=>t(h),i.config.prepare_external_dependency_script&&(l=i.config.prepare_external_dependency_script(l)),!l)return t("prepare_external_dependency_script returned null");var u,c=w.querySelectorAll("body > script");c.length>0?(u=c[0].parentNode)==null||u.insertBefore(l,c[0]):w.body.appendChild(l)};w!=null&&w.body?a():w?.addEventListener("DOMContentLoaded",a)};T.__PosthogExtensions__=T.__PosthogExtensions__||{},T.__PosthogExtensions__.loadExternalDependency=(i,e,t)=>{var r="/static/"+e+".js?v="+i.version;if(e==="remote-config"&&(r="/array/"+i.config.token+"/config.js"),e==="toolbar"){var n=3e5;r=r+"&t="+Math.floor(Date.now()/n)*n}var s=i.requestRouter.endpointFor("assets",r);es(i,s,t)},T.__PosthogExtensions__.loadSiteApp=(i,e,t)=>{var r=i.requestRouter.endpointFor("api",e);es(i,r,t)};var Dr={};function it(i,e,t){if(H(i)){if(Wn&&i.forEach===Wn)i.forEach(e,t);else if("length"in i&&i.length===+i.length){for(var r=0,n=i.length;r<n;r++)if(r in i&&e.call(t,i[r],r)===Dr)return}}}function L(i,e,t){if(!q(i)){if(H(i))return it(i,e,t);if(Xa(i)){for(var r of i.entries())if(e.call(t,r[1],r[0])===Dr)return}else for(var n in i)if(io.call(i,n)&&e.call(t,i[n],n)===Dr)return}}var G=function(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return it(t,(function(n){for(var s in n)n[s]!==void 0&&(i[s]=n[s])})),i},jt=function(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return it(t,(function(n){it(n,(function(s){i.push(s)}))})),i};function Fr(i){for(var e=Object.keys(i),t=e.length,r=new Array(t);t--;)r[t]=[e[t],i[e[t]]];return r}var ts=function(i){try{return i()}catch{return}},xl=function(i){return function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.apply(this,t)}catch(n){x.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),x.critical(n)}}},fn=function(i){var e={};return L(i,(function(t,r){(Z(t)&&t.length>0||Me(t))&&(e[r]=t)})),e};function Sl(i,e){return t=i,r=s=>Z(s)&&!Be(e)?s.slice(0,e):s,n=new Set,(function s(o,a){return o!==Object(o)?r?r(o,a):o:n.has(o)?void 0:(n.add(o),H(o)?(l=[],it(o,(u=>{l.push(s(u))}))):(l={},L(o,((u,c)=>{n.has(u)||(l[c]=s(u,c))}))),l);var l})(t);var t,r,n}var kl=["herokuapp.com","vercel.app","netlify.app"];function Pl(i){var e=i?.hostname;if(!Z(e))return!1;var t=e.split(".").slice(-2).join(".");for(var r of kl)if(t===r)return!1;return!0}function lo(i,e){for(var t=0;t<i.length;t++)if(e(i[t]))return i[t]}function K(i,e,t,r){var{capture:n=!1,passive:s=!0}=r??{};i?.addEventListener(e,t,{capture:n,passive:s})}var uo="$people_distinct_id",Xt="__alias",Jt="__timers",rs="$autocapture_disabled_server_side",Li="$heatmaps_enabled_server_side",is="$exception_capture_enabled_server_side",ji="$error_tracking_suppression_rules",ns="$error_tracking_capture_extension_exceptions",ss="$web_vitals_enabled_server_side",co="$dead_clicks_enabled_server_side",os="$web_vitals_allowed_metrics",pi="$session_recording_remote_config",Lr="$sesid",ho="$session_is_sampled",St="$enabled_feature_flags",Zt="$early_access_features",qi="$feature_flag_details",Qt="$stored_person_properties",ht="$stored_group_properties",Ui="$surveys",Sr="$surveys_activated",jr="$flag_call_reported",Ue="$user_state",Hi="$client_session_props",zi="$capture_rate_limit",Bi="$initial_campaign_params",Vi="$initial_referrer_info",qr="$initial_person_info",Ur="$epp",fo="__POSTHOG_TOOLBAR__",Ht="$posthog_cookieless",Tl=[uo,Xt,"__cmpns",Jt,"$session_recording_enabled_server_side",Li,Lr,St,ji,Ue,Zt,qi,ht,Qt,Ui,jr,Hi,zi,Bi,Vi,Ur,qr];function as(i){return i instanceof Element&&(i.id===fo||!(i.closest==null||!i.closest(".toolbar-global-fade-container")))}function ii(i){return!!i&&i.nodeType===1}function nt(i,e){return!!i&&!!i.tagName&&i.tagName.toLowerCase()===e.toLowerCase()}function po(i){return!!i&&i.nodeType===3}function go(i){return!!i&&i.nodeType===11}function pn(i){return i?ti(i).split(/\s+/):[]}function ls(i){var e=g?.location.href;return!!(e&&i&&i.some((t=>e.match(t))))}function Hr(i){var e="";switch(typeof i.className){case"string":e=i.className;break;case"object":e=(i.className&&"baseVal"in i.className?i.className.baseVal:null)||i.getAttribute("class")||"";break;default:e=""}return pn(e)}function vo(i){return q(i)?null:ti(i).split(/(\s+)/).filter((e=>sr(e))).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function ni(i){var e="";return Wi(i)&&!wo(i)&&i.childNodes&&i.childNodes.length&&L(i.childNodes,(function(t){var r;po(t)&&t.textContent&&(e+=(r=vo(t.textContent))!==null&&r!==void 0?r:"")})),ti(e)}function _o(i){return b(i.target)?i.srcElement||null:(e=i.target)!=null&&e.shadowRoot?i.composedPath()[0]||null:i.target||null;var e}var gn=["a","button","form","input","select","textarea","label"];function mo(i,e){if(b(e))return!0;var t,r=function(s){if(e.some((o=>s.matches(o))))return{v:!0}};for(var n of i)if(t=r(n))return t.v;return!1}function yo(i){var e=i.parentNode;return!(!e||!ii(e))&&e}var us=[".ph-no-rageclick",".ph-no-capture"],vn=i=>!i||nt(i,"html")||!ii(i),bo=(i,e)=>{if(!g||vn(i))return{parentIsUsefulElement:!1,targetElementList:[]};for(var t=!1,r=[i],n=i;n.parentNode&&!nt(n,"body");)if(go(n.parentNode))r.push(n.parentNode.host),n=n.parentNode.host;else{var s=yo(n);if(!s)break;if(e||gn.indexOf(s.tagName.toLowerCase())>-1)t=!0;else{var o=g.getComputedStyle(s);o&&o.getPropertyValue("cursor")==="pointer"&&(t=!0)}r.push(s),n=s}return{parentIsUsefulElement:t,targetElementList:r}};function Il(i,e,t,r,n){var s,o,a,l;if(t===void 0&&(t=void 0),!g||vn(i)||(s=t)!=null&&s.url_allowlist&&!ls(t.url_allowlist)||(o=t)!=null&&o.url_ignorelist&&ls(t.url_ignorelist))return!1;if((a=t)!=null&&a.dom_event_allowlist){var u=t.dom_event_allowlist;if(u&&!u.some((v=>e.type===v)))return!1}var{parentIsUsefulElement:c,targetElementList:h}=bo(i,r);if(!(function(v,f){var _=f?.element_allowlist;if(b(_))return!0;var y,E=function(I){if(_.some((M=>I.tagName.toLowerCase()===M)))return{v:!0}};for(var S of v)if(y=E(S))return y.v;return!1})(h,t)||!mo(h,(l=t)==null?void 0:l.css_selector_allowlist))return!1;var p=g.getComputedStyle(i);if(p&&p.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var d=i.tagName.toLowerCase();switch(d){case"html":return!1;case"form":return(n||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(n||["change","click"]).indexOf(e.type)>=0;default:return c?(n||["click"]).indexOf(e.type)>=0:(n||["click"]).indexOf(e.type)>=0&&(gn.indexOf(d)>-1||i.getAttribute("contenteditable")==="true")}}function Wi(i){for(var e=i;e.parentNode&&!nt(e,"body");e=e.parentNode){var t=Hr(e);if(R(t,"ph-sensitive")||R(t,"ph-no-capture"))return!1}if(R(Hr(i),"ph-include"))return!0;var r=i.type||"";if(Z(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var n=i.name||i.id||"";return!(Z(n)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(n.replace(/[^a-zA-Z0-9]/g,"")))}function wo(i){return!!(nt(i,"input")&&!["button","checkbox","submit","reset"].includes(i.type)||nt(i,"select")||nt(i,"textarea")||i.getAttribute("contenteditable")==="true")}var Eo="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Cl=new RegExp("^(?:"+Eo+")$"),Al=new RegExp(Eo),xo="\\d{3}-?\\d{2}-?\\d{4}",$l=new RegExp("^("+xo+")$"),Fl=new RegExp("("+xo+")");function sr(i,e){return e===void 0&&(e=!0),!(q(i)||Z(i)&&(i=ti(i),(e?Cl:Al).test((i||"").replace(/[- ]/g,""))||(e?$l:Fl).test(i)))}function So(i){var e=ni(i);return sr(e=(e+" "+ko(i)).trim())?e:""}function ko(i){var e="";return i&&i.childNodes&&i.childNodes.length&&L(i.childNodes,(function(t){var r;if(t&&((r=t.tagName)==null?void 0:r.toLowerCase())==="span")try{var n=ni(t);e=(e+" "+n).trim(),t.childNodes&&t.childNodes.length&&(e=(e+" "+ko(t)).trim())}catch(s){x.error("[AutoCapture]",s)}})),e}function Rl(i){return(function(e){var t=e.map((r=>{var n,s,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class)for(var a of(r.attr_class.sort(),r.attr_class))o+="."+a.replace(/"/g,"");var l=k({},r.text?{text:r.text}:{},{"nth-child":(n=r.nth_child)!==null&&n!==void 0?n:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{},r.attr_id?{attr_id:r.attr_id}:{},r.attributes),u={};return Fr(l).sort(((c,h)=>{var[p]=c,[d]=h;return p.localeCompare(d)})).forEach((c=>{var[h,p]=c;return u[cs(h.toString())]=cs(p.toString())})),o+=":",o+=Fr(u).map((c=>{var[h,p]=c;return h+'="'+p+'"'})).join("")}));return t.join(";")})((function(e){return e.map((t=>{var r,n,s={text:(r=t.$el_text)==null?void 0:r.slice(0,400),tag_name:t.tag_name,href:(n=t.attr__href)==null?void 0:n.slice(0,2048),attr_class:Ol(t),attr_id:t.attr__id,nth_child:t.nth_child,nth_of_type:t.nth_of_type,attributes:{}};return Fr(t).filter((o=>{var[a]=o;return a.indexOf("attr__")===0})).forEach((o=>{var[a,l]=o;return s.attributes[a]=l})),s}))})(i))}function cs(i){return i.replace(/"|\\"/g,'\\"')}function Ol(i){var e=i.attr__class;return e?H(e)?e:pn(e):void 0}class Po{constructor(){this.clicks=[]}isRageClick(e,t,r){var n=this.clicks[this.clicks.length-1];if(n&&Math.abs(e-n.x)+Math.abs(t-n.y)<30&&r-n.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:t,timestamp:r}];return!1}}var gi="$copy_autocapture",ze=(function(i){return i.GZipJS="gzip-js",i.Base64="base64",i})({}),zr=i=>{var e=w?.createElement("a");return b(e)?null:(e.href=i,e)},Nl=function(i,e){var t,r;e===void 0&&(e="&");var n=[];return L(i,(function(s,o){b(s)||b(o)||o==="undefined"||(t=encodeURIComponent((a=>a instanceof File)(s)?s.name:s.toString()),r=encodeURIComponent(o),n[n.length]=r+"="+t)})),n.join(e)},Br=function(i,e){for(var t,r=((i.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),n=0;n<r.length;n++){var s=r[n].split("=");if(s[0]===e){t=s;break}}if(!H(t)||t.length<2)return"";var o=t[1];try{o=decodeURIComponent(o)}catch{x.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},gr=function(i,e,t){if(!i||!e||!e.length)return i;for(var r=i.split("#"),n=r[0]||"",s=r[1],o=n.split("?"),a=o[1],l=o[0],u=(a||"").split("&"),c=[],h=0;h<u.length;h++){var p=u[h].split("=");H(p)&&(e.includes(p[0])?c.push(p[0]+"="+t):c.push(u[h]))}var d=l;return a!=null&&(d+="?"+c.join("&")),s!=null&&(d+="#"+s),d},Vr=function(i,e){var t=i.match(new RegExp(e+"=([^&]*)"));return t?t[1]:null},hs=ee("[AutoCapture]");function vi(i,e){return e.length>i?e.slice(0,i)+"...":e}function Ml(i){if(i.previousElementSibling)return i.previousElementSibling;var e=i;do e=e.previousSibling;while(e&&!ii(e));return e}function Dl(i,e,t,r){var n=i.tagName.toLowerCase(),s={tag_name:n};gn.indexOf(n)>-1&&!t&&(n.toLowerCase()==="a"||n.toLowerCase()==="button"?s.$el_text=vi(1024,So(i)):s.$el_text=vi(1024,ni(i)));var o=Hr(i);o.length>0&&(s.classes=o.filter((function(c){return c!==""}))),L(i.attributes,(function(c){var h;if((!wo(i)||["name","id","class","aria-label"].indexOf(c.name)!==-1)&&(r==null||!r.includes(c.name))&&!e&&sr(c.value)&&(h=c.name,!Z(h)||h.substring(0,10)!=="_ngcontent"&&h.substring(0,7)!=="_nghost")){var p=c.value;c.name==="class"&&(p=pn(p).join(" ")),s["attr__"+c.name]=vi(1024,p)}}));for(var a=1,l=1,u=i;u=Ml(u);)a++,u.tagName===i.tagName&&l++;return s.nth_child=a,s.nth_of_type=l,s}function Ll(i,e){for(var t,r,{e:n,maskAllElementAttributes:s,maskAllText:o,elementAttributeIgnoreList:a,elementsChainAsString:l}=e,u=[i],c=i;c.parentNode&&!nt(c,"body");)go(c.parentNode)?(u.push(c.parentNode.host),c=c.parentNode.host):(u.push(c.parentNode),c=c.parentNode);var h,p=[],d={},v=!1,f=!1;if(L(u,(I=>{var M=Wi(I);I.tagName.toLowerCase()==="a"&&(v=I.getAttribute("href"),v=M&&v&&sr(v)&&v),R(Hr(I),"ph-no-capture")&&(f=!0),p.push(Dl(I,s,o,a));var X=(function(J){if(!Wi(J))return{};var O={};return L(J.attributes,(function(ve){if(ve.name&&ve.name.indexOf("data-ph-capture-attribute")===0){var se=ve.name.replace("data-ph-capture-attribute-",""),_e=ve.value;se&&_e&&sr(_e)&&(O[se]=_e)}})),O})(I);G(d,X)})),f)return{props:{},explicitNoCapture:f};if(o||(i.tagName.toLowerCase()==="a"||i.tagName.toLowerCase()==="button"?p[0].$el_text=So(i):p[0].$el_text=ni(i)),v){var _,y;p[0].attr__href=v;var E=(_=zr(v))==null?void 0:_.host,S=g==null||(y=g.location)==null?void 0:y.host;E&&S&&E!==S&&(h=v)}return{props:G({$event_type:n.type,$ce_version:1},l?{}:{$elements:p},{$elements_chain:Rl(p)},(t=p[0])!=null&&t.$el_text?{$el_text:(r=p[0])==null?void 0:r.$el_text}:{},h&&n.type==="click"?{$external_click_url:h}:{},d)}}class jl{constructor(e){this.C=!1,this.O=null,this.rageclicks=new Po,this.F=!1,this.instance=e,this.M=null}get A(){var e,t,r=ae(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(e=r.url_allowlist)==null?void 0:e.map((n=>new RegExp(n))),r.url_ignorelist=(t=r.url_ignorelist)==null?void 0:t.map((n=>new RegExp(n))),r}j(){if(this.isBrowserSupported()){if(g&&w){var e=r=>{r=r||g?.event;try{this.D(r)}catch(n){hs.error("Failed to capture event",n)}};if(K(w,"submit",e,{capture:!0}),K(w,"change",e,{capture:!0}),K(w,"click",e,{capture:!0}),this.A.capture_copied_text){var t=r=>{r=r||g?.event,this.D(r,gi)};K(w,"copy",t,{capture:!0}),K(w,"cut",t,{capture:!0})}}}else hs.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.C&&(this.j(),this.C=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.F=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[rs]:!!e.autocapture_opt_out}),this.O=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.M=e}getElementSelectors(e){var t,r=[];return(t=this.M)==null||t.forEach((n=>{var s=w?.querySelectorAll(n);s?.forEach((o=>{e===o&&r.push(n)}))})),r}get isEnabled(){var e,t,r=(e=this.instance.persistence)==null?void 0:e.props[rs],n=this.O;if(Be(n)&&!rt(r)&&!this.instance.L())return!1;var s=(t=this.O)!==null&&t!==void 0?t:!!r;return!!this.instance.config.autocapture&&!s}D(e,t){if(t===void 0&&(t="$autocapture"),this.isEnabled){var r,n=_o(e);po(n)&&(n=n.parentNode||null),t==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!=null&&r.isRageClick(e.clientX,e.clientY,new Date().getTime())&&(function(p,d){if(!g||vn(p))return!1;var v,f;if((v=rt(d)?!!d&&us:(f=d?.css_selector_ignorelist)!==null&&f!==void 0?f:us)===!1)return!1;var{targetElementList:_}=bo(p,!1);return!mo(_,v)})(n,this.instance.config.rageclick)&&this.D(e,"$rageclick");var s=t===gi;if(n&&Il(n,e,this.A,s,s?["copy","cut"]:void 0)){var{props:o,explicitNoCapture:a}=Ll(n,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.A.element_attribute_ignorelist,elementsChainAsString:this.F});if(a)return!1;var l=this.getElementSelectors(n);if(l&&l.length>0&&(o.$element_selectors=l),t===gi){var u,c=vo(g==null||(u=g.getSelection())==null?void 0:u.toString()),h=e.type||"clipboard";if(!c)return!1;o.$selected_content=c,o.$copy_type=h}return this.instance.capture(t,o),!0}}}isBrowserSupported(){return tt(w?.querySelectorAll)}}Math.trunc||(Math.trunc=function(i){return i<0?Math.ceil(i):Math.floor(i)}),Number.isInteger||(Number.isInteger=function(i){return Me(i)&&isFinite(i)&&Math.floor(i)===i});var ds="0123456789abcdef";class Wr{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,t,r,n){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(r)||!Number.isInteger(n)||e<0||t<0||r<0||n<0||e>0xffffffffffff||t>4095||r>1073741823||n>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=e/Math.pow(2,40),s[1]=e/Math.pow(2,32),s[2]=e/Math.pow(2,24),s[3]=e/Math.pow(2,16),s[4]=e/Math.pow(2,8),s[5]=e,s[6]=112|t>>>8,s[7]=t,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=n>>>24,s[13]=n>>>16,s[14]=n>>>8,s[15]=n,new Wr(s)}toString(){for(var e="",t=0;t<this.bytes.length;t++)e=e+ds.charAt(this.bytes[t]>>>4)+ds.charAt(15&this.bytes[t]),t!==3&&t!==5&&t!==7&&t!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new Wr(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var t=0;t<16;t++){var r=this.bytes[t]-e.bytes[t];if(r!==0)return Math.sign(r)}return 0}}class ql{constructor(){this.N=0,this.U=0,this.H=new Ul}generate(){var e=this.generateOrAbort();if(b(e)){this.N=0;var t=this.generateOrAbort();if(b(t))throw new Error("Could not generate UUID after timestamp reset");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.N)this.N=e,this.B();else{if(!(e+1e4>this.N))return;this.U++,this.U>4398046511103&&(this.N++,this.B())}return Wr.fromFieldsV7(this.N,Math.trunc(this.U/Math.pow(2,30)),this.U&Math.pow(2,30)-1,this.H.nextUint32())}B(){this.U=1024*this.H.nextUint32()+(1023&this.H.nextUint32())}}var fs,To=i=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<i.length;e++)i[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return i};g&&!b(g.crypto)&&crypto.getRandomValues&&(To=i=>crypto.getRandomValues(i));class Ul{constructor(){this.q=new Uint32Array(8),this.W=1/0}nextUint32(){return this.W>=this.q.length&&(To(this.q),this.W=0),this.q[this.W++]}}var Qe=()=>Hl().toString(),Hl=()=>(fs||(fs=new ql)).generate(),zt="",zl=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function Bl(i,e){if(e){var t=(function(n,s){if(s===void 0&&(s=w),zt)return zt;if(!s||["localhost","127.0.0.1"].includes(n))return"";for(var o=n.split("."),a=Math.min(o.length,8),l="dmn_chk_"+Qe();!zt&&a--;){var u=o.slice(a).join("."),c=l+"=1;domain=."+u+";path=/";s.cookie=c+";max-age=3",s.cookie.includes(l)&&(s.cookie=c+";max-age=0",zt=u)}return zt})(i);if(!t){var r=(n=>{var s=n.match(zl);return s?s[0]:""})(i);r!==t&&x.info("Warning: cookie subdomain discovery mismatch",r,t),t=r}return t?"; domain=."+t:""}return""}var Oe={G:()=>!!w,V:function(i){x.error("cookieStore error: "+i)},J:function(i){if(w){try{for(var e=i+"=",t=w.cookie.split(";").filter((s=>s.length)),r=0;r<t.length;r++){for(var n=t[r];n.charAt(0)==" ";)n=n.substring(1,n.length);if(n.indexOf(e)===0)return decodeURIComponent(n.substring(e.length,n.length))}}catch{}return null}},K:function(i){var e;try{e=JSON.parse(Oe.J(i))||{}}catch{}return e},Y:function(i,e,t,r,n){if(w)try{var s="",o="",a=Bl(w.location.hostname,r);if(t){var l=new Date;l.setTime(l.getTime()+24*t*60*60*1e3),s="; expires="+l.toUTCString()}n&&(o="; secure");var u=i+"="+encodeURIComponent(JSON.stringify(e))+s+"; SameSite=Lax; path=/"+a+o;return u.length>3686.4&&x.warn("cookieStore warning: large cookie, len="+u.length),w.cookie=u,u}catch{return}},X:function(i,e){if(w!=null&&w.cookie)try{Oe.Y(i,"",-1,e)}catch{return}}},_i=null,B={G:function(){if(!Be(_i))return _i;var i=!0;if(b(g))i=!1;else try{var e="__mplssupport__";B.Y(e,"xyz"),B.J(e)!=='"xyz"'&&(i=!1),B.X(e)}catch{i=!1}return i||x.error("localStorage unsupported; falling back to cookie store"),_i=i,i},V:function(i){x.error("localStorage error: "+i)},J:function(i){try{return g?.localStorage.getItem(i)}catch(e){B.V(e)}return null},K:function(i){try{return JSON.parse(B.J(i))||{}}catch{}return null},Y:function(i,e){try{g?.localStorage.setItem(i,JSON.stringify(e))}catch(t){B.V(t)}},X:function(i){try{g?.localStorage.removeItem(i)}catch(e){B.V(e)}}},Vl=["distinct_id",Lr,ho,Ur,qr],kr=k({},B,{K:function(i){try{var e={};try{e=Oe.K(i)||{}}catch{}var t=G(e,JSON.parse(B.J(i)||"{}"));return B.Y(i,t),t}catch{}return null},Y:function(i,e,t,r,n,s){try{B.Y(i,e,void 0,void 0,s);var o={};Vl.forEach((a=>{e[a]&&(o[a]=e[a])})),Object.keys(o).length&&Oe.Y(i,o,t,r,n,s)}catch(a){B.V(a)}},X:function(i,e){try{g?.localStorage.removeItem(i),Oe.X(i,e)}catch(t){B.V(t)}}}),Pr={},Wl={G:function(){return!0},V:function(i){x.error("memoryStorage error: "+i)},J:function(i){return Pr[i]||null},K:function(i){return Pr[i]||null},Y:function(i,e){Pr[i]=e},X:function(i){delete Pr[i]}},lt=null,te={G:function(){if(!Be(lt))return lt;if(lt=!0,b(g))lt=!1;else try{var i="__support__";te.Y(i,"xyz"),te.J(i)!=='"xyz"'&&(lt=!1),te.X(i)}catch{lt=!1}return lt},V:function(i){x.error("sessionStorage error: ",i)},J:function(i){try{return g?.sessionStorage.getItem(i)}catch(e){te.V(e)}return null},K:function(i){try{return JSON.parse(te.J(i))||null}catch{}return null},Y:function(i,e){try{g?.sessionStorage.setItem(i,JSON.stringify(e))}catch(t){te.V(t)}},X:function(i){try{g?.sessionStorage.removeItem(i)}catch(e){te.V(e)}}},He=(function(i){return i[i.PENDING=-1]="PENDING",i[i.DENIED=0]="DENIED",i[i.GRANTED=1]="GRANTED",i})({});class Gl{constructor(e){this._instance=e}get A(){return this._instance.config}get consent(){return this.Z()?He.DENIED:this.tt}isOptedOut(){return this.A.cookieless_mode==="always"||this.consent===He.DENIED||this.consent===He.PENDING&&(this.A.opt_out_capturing_by_default||this.A.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===He.DENIED}optInOut(e){this.it.Y(this.et,e?1:0,this.A.cookie_expiration,this.A.cross_subdomain_cookie,this.A.secure_cookie)}reset(){this.it.X(this.et,this.A.cross_subdomain_cookie)}get et(){var{token:e,opt_out_capturing_cookie_prefix:t,consent_persistence_name:r}=this._instance.config;return r||(t?t+e:"__ph_opt_in_out_"+e)}get tt(){var e=this.it.J(this.et);return di(e)?He.GRANTED:R(Qa,e)?He.DENIED:He.PENDING}get it(){if(!this.rt){var e=this.A.opt_out_capturing_persistence_type;this.rt=e==="localStorage"?B:Oe;var t=e==="localStorage"?Oe:B;t.J(this.et)&&(this.rt.J(this.et)||this.optInOut(di(t.J(this.et))),t.X(this.et,this.A.cross_subdomain_cookie))}return this.rt}Z(){return!!this.A.respect_dnt&&!!lo([ye?.doNotTrack,ye?.msDoNotTrack,T.doNotTrack],(e=>di(e)))}}var Tr=ee("[Dead Clicks]"),Kl=()=>!0,Yl=i=>{var e,t=!((e=i.instance.persistence)==null||!e.get_property(co)),r=i.instance.config.capture_dead_clicks;return rt(r)?r:t};class Io{get lazyLoadedDeadClicksAutocapture(){return this.st}constructor(e,t,r){this.instance=e,this.isEnabled=t,this.onCapture=r,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[co]:e?.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.nt((()=>{this.ot()}))}nt(e){var t,r;(t=T.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture&&e(),(r=T.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this.instance,"dead-clicks-autocapture",(n=>{n?Tr.error("failed to load script",n):e()}))}ot(){var e;if(w){if(!this.st&&(e=T.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var t=ae(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this.st=T.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this.st.start(w),Tr.info("starting...")}}else Tr.error("`document` not found. Cannot start.")}stop(){this.st&&(this.st.stop(),this.st=void 0,Tr.info("stopping..."))}}var Bt=ee("[ExceptionAutocapture]");class Xl{constructor(e){var t,r,n;this.lt=()=>{var s;if(g&&this.isEnabled&&(s=T.__PosthogExtensions__)!=null&&s.errorWrappingFunctions){var o=T.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,a=T.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,l=T.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ut&&this.A.capture_unhandled_errors&&(this.ut=o(this.captureException.bind(this))),!this.ht&&this.A.capture_unhandled_rejections&&(this.ht=a(this.captureException.bind(this))),!this.dt&&this.A.capture_console_errors&&(this.dt=l(this.captureException.bind(this)))}catch(u){Bt.error("failed to start",u),this.vt()}}},this._instance=e,this.ct=!((t=this._instance.persistence)==null||!t.props[is]),this.A=this.ft(),this.gt=new el({refillRate:(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&r!==void 0?r:1,bucketSize:(n=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&n!==void 0?n:10,refillInterval:1e4,P:Bt}),this.startIfEnabled()}ft(){var e=this._instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return ae(e)?t=k({},t,e):(b(e)?this.ct:e)&&(t=k({},t,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.A.capture_console_errors||this.A.capture_unhandled_errors||this.A.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Bt.info("enabled"),this.nt(this.lt))}nt(e){var t,r;(t=T.__PosthogExtensions__)!=null&&t.errorWrappingFunctions&&e(),(r=T.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"exception-autocapture",(n=>{if(n)return Bt.error("failed to load script",n);e()}))}vt(){var e,t,r;(e=this.ut)==null||e.call(this),this.ut=void 0,(t=this.ht)==null||t.call(this),this.ht=void 0,(r=this.dt)==null||r.call(this),this.dt=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.ct=!!t||!1,this.A=this.ft(),this._instance.persistence&&this._instance.persistence.register({[is]:this.ct}),this.startIfEnabled()}captureException(e){var t,r,n=(t=e==null||(r=e.$exception_list)==null||(r=r[0])==null?void 0:r.type)!==null&&t!==void 0?t:"Exception";this.gt.consumeRateLimit(n)?Bt.info("Skipping exception capture because of client rate limiting.",{exception:n}):this._instance.exceptions.sendExceptionEvent(e)}}function ps(i,e,t){try{if(!(e in i))return()=>{};var r=i[e],n=t(r);return tt(n)&&(n.prototype=n.prototype||{},Object.defineProperties(n,{__posthog_wrapped__:{enumerable:!1,value:!0}})),i[e]=n,()=>{i[e]=r}}catch{return()=>{}}}class Jl{constructor(e){var t;this._instance=e,this._t=(g==null||(t=g.location)==null?void 0:t.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(x.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.yt&&this.yt(),this.yt=void 0,x.info("History API monitoring stopped")}monitorHistoryChanges(){var e,t;if(g&&g.history){var r=this;(e=g.history.pushState)!=null&&e.__posthog_wrapped__||ps(g.history,"pushState",(n=>function(s,o,a){n.call(this,s,o,a),r.bt("pushState")})),(t=g.history.replaceState)!=null&&t.__posthog_wrapped__||ps(g.history,"replaceState",(n=>function(s,o,a){n.call(this,s,o,a),r.bt("replaceState")})),this.wt()}}bt(e){try{var t,r=g==null||(t=g.location)==null?void 0:t.pathname;if(!r)return;r!==this._t&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this._t=r}catch(n){x.error("Error capturing "+e+" pageview",n)}}wt(){if(!this.yt){var e=()=>{this.bt("popstate")};K(g,"popstate",e),this.yt=()=>{g&&g.removeEventListener("popstate",e)}}}}var mi=ee("[SegmentIntegration]");function Zl(i,e){var t=i.config.segment;if(!t)return e();(function(r,n){var s=r.config.segment;if(!s)return n();var o=l=>{var u=()=>l.anonymousId()||Qe();r.config.get_device_id=u,l.id()&&(r.register({distinct_id:l.id(),$device_id:u()}),r.persistence.set_property(Ue,"identified")),n()},a=s.user();"then"in a&&tt(a.then)?a.then((l=>o(l))):o(a)})(i,(()=>{t.register((r=>{Promise&&Promise.resolve||mi.warn("This browser does not have Promise support, and can not use the segment integration");var n=(s,o)=>{if(!o)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||(mi.info("No userId set, resetting PostHog"),r.reset()),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(mi.info("UserId set, identifying with PostHog"),r.identify(s.event.userId));var a=r.calculateEventProperties(o,s.event.properties);return s.event.properties=Object.assign({},a,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>n(s,s.event.event),page:s=>n(s,"$pageview"),identify:s=>n(s,"$identify"),screen:s=>n(s,"$screen")}})(i)).then((()=>{e()}))}))}var Co="posthog-js";function Ao(i,e){var{organization:t,projectId:r,prefix:n,severityAllowList:s=["error"],sendExceptionsToPostHog:o=!0}=e===void 0?{}:e;return a=>{var l,u,c,h,p;if(!(s==="*"||s.includes(a.level))||!i.__loaded)return a;a.tags||(a.tags={});var d=i.requestRouter.endpointFor("ui","/project/"+i.config.token+"/person/"+i.get_distinct_id());a.tags["PostHog Person URL"]=d,i.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=i.get_session_replay_url({withTimestamp:!0}));var v=((l=a.exception)==null?void 0:l.values)||[],f=v.map((y=>k({},y,{stacktrace:y.stacktrace?k({},y.stacktrace,{type:"raw",frames:(y.stacktrace.frames||[]).map((E=>k({},E,{platform:"web:javascript"})))}):void 0}))),_={$exception_message:((u=v[0])==null?void 0:u.value)||a.message,$exception_type:(c=v[0])==null?void 0:c.type,$exception_level:a.level,$exception_list:f,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((h=v[0])==null?void 0:h.value)||a.message,$sentry_exception_type:(p=v[0])==null?void 0:p.type,$sentry_tags:a.tags};return t&&r&&(_.$sentry_url=(n||"https://sentry.io/organizations/")+t+"/issues/?project="+r+"&query="+a.event_id),o&&i.exceptions.sendExceptionEvent(_),a}}class Ql{constructor(e,t,r,n,s,o){this.name=Co,this.setupOnce=function(a){a(Ao(e,{organization:t,projectId:r,prefix:n,severityAllowList:s,sendExceptionsToPostHog:o==null||o}))}}}var eu=g!=null&&g.location?Vr(g.location.hash,"__posthog")||Vr(location.hash,"state"):null,gs="_postHogToolbarParams",vs=ee("[Toolbar]"),Ze=(function(i){return i[i.UNINITIALIZED=0]="UNINITIALIZED",i[i.LOADING=1]="LOADING",i[i.LOADED=2]="LOADED",i})(Ze||{});class tu{constructor(e){this.instance=e}xt(e){T.ph_toolbar_state=e}St(){var e;return(e=T.ph_toolbar_state)!==null&&e!==void 0?e:Ze.UNINITIALIZED}maybeLoadToolbar(e,t,r){if(e===void 0&&(e=void 0),t===void 0&&(t=void 0),r===void 0&&(r=void 0),!g||!w)return!1;e=e??g.location,r=r??g.history;try{if(!t){try{g.localStorage.setItem("test","test"),g.localStorage.removeItem("test")}catch{return!1}t=g?.localStorage}var n,s=eu||Vr(e.hash,"__posthog")||Vr(e.hash,"state"),o=s?ts((()=>JSON.parse(atob(decodeURIComponent(s)))))||ts((()=>JSON.parse(decodeURIComponent(s)))):null;return o&&o.action==="ph_authorize"?((n=o).source="url",n&&Object.keys(n).length>0&&(o.desiredHash?e.hash=o.desiredHash:r?r.replaceState(r.state,"",e.pathname+e.search):e.hash="")):((n=JSON.parse(t.getItem(gs)||"{}")).source="localstorage",delete n.userIntent),!(!n.token||this.instance.config.token!==n.token)&&(this.loadToolbar(n),!0)}catch{return!1}}Et(e){var t=T.ph_load_toolbar||T.ph_load_editor;!q(t)&&tt(t)?t(e,this.instance):vs.warn("No toolbar load function found")}loadToolbar(e){var t=!(w==null||!w.getElementById(fo));if(!g||t)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,n=k({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(g.localStorage.setItem(gs,JSON.stringify(k({},n,{source:void 0}))),this.St()===Ze.LOADED)this.Et(n);else if(this.St()===Ze.UNINITIALIZED){var s;this.xt(Ze.LOADING),(s=T.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"toolbar",(o=>{if(o)return vs.error("[Toolbar] Failed to load",o),void this.xt(Ze.UNINITIALIZED);this.xt(Ze.LOADED),this.Et(n)})),K(g,"turbolinks:load",(()=>{this.xt(Ze.UNINITIALIZED),this.loadToolbar(n)}))}return!0}$t(e){return this.loadToolbar(e)}maybeLoadEditor(e,t,r){return e===void 0&&(e=void 0),t===void 0&&(t=void 0),r===void 0&&(r=void 0),this.maybeLoadToolbar(e,t,r)}}var ru=ee("[TracingHeaders]");class iu{constructor(e){this.kt=void 0,this.Pt=void 0,this.lt=()=>{var t,r;b(this.kt)&&((t=T.__PosthogExtensions__)==null||(t=t.tracingHeadersPatchFns)==null||t._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),b(this.Pt)&&((r=T.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}nt(e){var t,r;(t=T.__PosthogExtensions__)!=null&&t.tracingHeadersPatchFns&&e(),(r=T.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"tracing-headers",(n=>{if(n)return ru.error("failed to load script",n);e()}))}startIfEnabledOrStop(){var e,t;this._instance.config.__add_tracing_headers?this.nt(this.lt):((e=this.kt)==null||e.call(this),(t=this.Pt)==null||t.call(this),this.kt=void 0,this.Pt=void 0)}}var xe="Mobile",Gr="iOS",$e="Android",or="Tablet",$o=$e+" "+or,Fo="iPad",Ro="Apple",Oo=Ro+" Watch",ar="Safari",$t="BlackBerry",No="Samsung",Mo=No+"Browser",Do=No+" Internet",gt="Chrome",nu=gt+" OS",Lo=gt+" "+Gr,_n="Internet Explorer",jo=_n+" "+xe,mn="Opera",su=mn+" Mini",yn="Edge",qo="Microsoft "+yn,kt="Firefox",Uo=kt+" "+Gr,lr="Nintendo",ur="PlayStation",Pt="Xbox",Ho=$e+" "+xe,zo=xe+" "+ar,er="Windows",Gi=er+" Phone",_s="Nokia",Ki="Ouya",Bo="Generic",ou=Bo+" "+xe.toLowerCase(),Vo=Bo+" "+or.toLowerCase(),Yi="Konqueror",ue="(\\d+(\\.\\d+)?)",yi=new RegExp("Version/"+ue),au=new RegExp(Pt,"i"),lu=new RegExp(ur+" \\w+","i"),uu=new RegExp(lr+" \\w+","i"),bn=new RegExp($t+"|PlayBook|BB10","i"),cu={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},hu=(i,e)=>e&&R(e,Ro)||(function(t){return R(t,ar)&&!R(t,gt)&&!R(t,$e)})(i),Wo=function(i,e){return e=e||"",R(i," OPR/")&&R(i,"Mini")?su:R(i," OPR/")?mn:bn.test(i)?$t:R(i,"IE"+xe)||R(i,"WPDesktop")?jo:R(i,Mo)?Do:R(i,yn)||R(i,"Edg/")?qo:R(i,"FBIOS")?"Facebook "+xe:R(i,"UCWEB")||R(i,"UCBrowser")?"UC Browser":R(i,"CriOS")?Lo:R(i,"CrMo")||R(i,gt)?gt:R(i,$e)&&R(i,ar)?Ho:R(i,"FxiOS")?Uo:R(i.toLowerCase(),Yi.toLowerCase())?Yi:hu(i,e)?R(i,xe)?zo:ar:R(i,kt)?kt:R(i,"MSIE")||R(i,"Trident/")?_n:R(i,"Gecko")?kt:""},du={[jo]:[new RegExp("rv:"+ue)],[qo]:[new RegExp(yn+"?\\/"+ue)],[gt]:[new RegExp("("+gt+"|CrMo)\\/"+ue)],[Lo]:[new RegExp("CriOS\\/"+ue)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+ue)],[ar]:[yi],[zo]:[yi],[mn]:[new RegExp("(Opera|OPR)\\/"+ue)],[kt]:[new RegExp(kt+"\\/"+ue)],[Uo]:[new RegExp("FxiOS\\/"+ue)],[Yi]:[new RegExp("Konqueror[:/]?"+ue,"i")],[$t]:[new RegExp($t+" "+ue),yi],[Ho]:[new RegExp("android\\s"+ue,"i")],[Do]:[new RegExp(Mo+"\\/"+ue)],[_n]:[new RegExp("(rv:|MSIE )"+ue)],Mozilla:[new RegExp("rv:"+ue)]},fu=function(i,e){var t=Wo(i,e),r=du[t];if(b(r))return null;for(var n=0;n<r.length;n++){var s=r[n],o=i.match(s);if(o)return parseFloat(o[o.length-2])}return null},ms=[[new RegExp(Pt+"; "+Pt+" (.*?)[);]","i"),i=>[Pt,i&&i[1]||""]],[new RegExp(lr,"i"),[lr,""]],[new RegExp(ur,"i"),[ur,""]],[bn,[$t,""]],[new RegExp(er,"i"),(i,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[Gi,""];if(new RegExp(xe).test(e)&&!/IEMobile\b/.test(e))return[er+" "+xe,""];var t=/Windows NT ([0-9.]+)/i.exec(e);if(t&&t[1]){var r=t[1],n=cu[r]||"";return/arm/i.test(e)&&(n="RT"),[er,n]}return[er,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,i=>{if(i&&i[3]){var e=[i[3],i[4],i[5]||"0"];return[Gr,e.join(".")]}return[Gr,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,i=>{var e="";return i&&i.length>=3&&(e=b(i[2])?i[3]:i[2]),["watchOS",e]}],[new RegExp("("+$e+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+$e+")","i"),i=>{if(i&&i[2]){var e=[i[2],i[3],i[4]||"0"];return[$e,e.join(".")]}return[$e,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,i=>{var e=["Mac OS X",""];if(i&&i[1]){var t=[i[1],i[2],i[3]||"0"];e[1]=t.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[nu,""]],[/Linux|debian/i,["Linux",""]]],ys=function(i){return uu.test(i)?lr:lu.test(i)?ur:au.test(i)?Pt:new RegExp(Ki,"i").test(i)?Ki:new RegExp("("+Gi+"|WPDesktop)","i").test(i)?Gi:/iPad/.test(i)?Fo:/iPod/.test(i)?"iPod Touch":/iPhone/.test(i)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(i)?Oo:bn.test(i)?$t:/(kobo)\s(ereader|touch)/i.test(i)?"Kobo":new RegExp(_s,"i").test(i)?_s:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(i)||/(kf[a-z]+)( bui|\)).+silk\//i.test(i)?"Kindle Fire":/(Android|ZTE)/i.test(i)?!new RegExp(xe).test(i)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(i)?/pixel[\daxl ]{1,6}/i.test(i)&&!/pixel c/i.test(i)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(i)||/lmy47v/i.test(i)&&!/QTAQZ3/i.test(i)?$e:$o:$e:new RegExp("(pda|"+xe+")","i").test(i)?ou:new RegExp(or,"i").test(i)&&!new RegExp(or+" pc","i").test(i)?Vo:""},Ir="https?://(.*)",qt=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],pu=jt(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],qt),vr="<masked>",gu=["li_fat_id"];function Go(i,e,t){if(!w)return{};var r,n=e?jt([],qt,t||[]):[],s=Ko(gr(w.URL,n,vr),i),o=(r={},L(gu,(function(a){var l=Oe.J(a);r[a]=l||null})),r);return G(o,s)}function Ko(i,e){var t=pu.concat(e||[]),r={};return L(t,(function(n){var s=Br(i,n);r[n]=s||null})),r}function Yo(i){var e=(function(s){return s?s.search(Ir+"google.([^/?]*)")===0?"google":s.search(Ir+"bing.com")===0?"bing":s.search(Ir+"yahoo.com")===0?"yahoo":s.search(Ir+"duckduckgo.com")===0?"duckduckgo":null:null})(i),t=e!="yahoo"?"q":"p",r={};if(!Be(e)){r.$search_engine=e;var n=w?Br(w.referrer,t):"";n.length&&(r.ph_keyword=n)}return r}function bs(){return navigator.language||navigator.userLanguage}function Xo(){return w?.referrer||"$direct"}function Jo(i,e){var t=i?jt([],qt,e||[]):[],r=fe?.href.substring(0,1e3);return{r:Xo().substring(0,1e3),u:r?gr(r,t,vr):void 0}}function Zo(i){var e,{r:t,u:r}=i,n={$referrer:t,$referring_domain:t==null?void 0:t=="$direct"?"$direct":(e=zr(t))==null?void 0:e.host};if(r){n.$current_url=r;var s=zr(r);n.$host=s?.host,n.$pathname=s?.pathname;var o=Ko(r);G(n,o)}if(t){var a=Yo(t);G(n,a)}return n}function Qo(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function vu(){try{return new Date().getTimezoneOffset()}catch{return}}function _u(i,e){if(!de)return{};var t,r,n,s=i?jt([],qt,e||[]):[],[o,a]=(function(l){for(var u=0;u<ms.length;u++){var[c,h]=ms[u],p=c.exec(l),d=p&&(tt(h)?h(p,l):h);if(d)return d}return["",""]})(de);return G(fn({$os:o,$os_version:a,$browser:Wo(de,navigator.vendor),$device:ys(de),$device_type:(r=de,n=ys(r),n===Fo||n===$o||n==="Kobo"||n==="Kindle Fire"||n===Vo?or:n===lr||n===Pt||n===ur||n===Ki?"Console":n===Oo?"Wearable":n?xe:"Desktop"),$timezone:Qo(),$timezone_offset:vu()}),{$current_url:gr(fe?.href,s,vr),$host:fe?.host,$pathname:fe?.pathname,$raw_user_agent:de.length>1e3?de.substring(0,997)+"...":de,$browser_version:fu(de,navigator.vendor),$browser_language:bs(),$browser_language_prefix:(t=bs(),typeof t=="string"?t.split("-")[0]:void 0),$screen_height:g?.screen.height,$screen_width:g?.screen.width,$viewport_height:g?.innerHeight,$viewport_width:g?.innerWidth,$lib:"web",$lib_version:qe.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var Xe=ee("[Web Vitals]"),ws=9e5;class mu{constructor(e){var t;this.Tt=!1,this.C=!1,this.q={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.It=()=>{clearTimeout(this.Rt),this.q.metrics.length!==0&&(this._instance.capture("$web_vitals",this.q.metrics.reduce(((r,n)=>k({},r,{["$web_vitals_"+n.name+"_event"]:k({},n),["$web_vitals_"+n.name+"_value"]:n.value})),{})),this.q={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Ct=r=>{var n,s=(n=this._instance.sessionManager)==null?void 0:n.checkAndGetSessionAndWindowId(!0);if(b(s))Xe.error("Could not read session ID. Dropping metrics!");else{this.q=this.q||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var o=this.Ot();b(o)||(q(r?.name)||q(r?.value)?Xe.error("Invalid metric received",r):this.Ft&&r.value>=this.Ft?Xe.error("Ignoring metric with value >= "+this.Ft,r):(this.q.url!==o&&(this.It(),this.Rt=setTimeout(this.It,this.flushToCaptureTimeoutMs)),b(this.q.url)&&(this.q.url=o),this.q.firstMetricTimestamp=b(this.q.firstMetricTimestamp)?Date.now():this.q.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.q.metrics.push(k({},r,{$current_url:o,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.q.metrics.length===this.allowedMetrics.length&&this.It()))}},this.lt=()=>{var r,n,s,o,a=T.__PosthogExtensions__;b(a)||b(a.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:n,onFCP:s,onINP:o}=a.postHogWebVitalsCallbacks),r&&n&&s&&o?(this.allowedMetrics.indexOf("LCP")>-1&&r(this.Ct.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&n(this.Ct.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this.Ct.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&o(this.Ct.bind(this)),this.C=!0):Xe.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Tt=!((t=this._instance.persistence)==null||!t.props[ss]),this.startIfEnabled()}get allowedMetrics(){var e,t,r=ae(this._instance.config.capture_performance)?(e=this._instance.config.capture_performance)==null?void 0:e.web_vitals_allowed_metrics:void 0;return b(r)?((t=this._instance.persistence)==null?void 0:t.props[os])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(ae(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ft(){var e=ae(this._instance.config.capture_performance)&&Me(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:ws;return 0<e&&e<=6e4?ws:e}get isEnabled(){var e=fe?.protocol;if(e!=="http:"&&e!=="https:")return Xe.info("Web Vitals are disabled on non-http/https protocols"),!1;var t=ae(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:rt(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return rt(t)?t:this.Tt}startIfEnabled(){this.isEnabled&&!this.C&&(Xe.info("enabled, starting..."),this.nt(this.lt))}onRemoteConfig(e){var t=ae(e.capturePerformance)&&!!e.capturePerformance.web_vitals,r=ae(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[ss]:t}),this._instance.persistence.register({[os]:r})),this.Tt=t,this.startIfEnabled()}nt(e){var t,r;(t=T.__PosthogExtensions__)!=null&&t.postHogWebVitalsCallbacks&&e(),(r=T.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"web-vitals",(n=>{n?Xe.error("failed to load script",n):e()}))}Ot(){var e=g?g.location.href:void 0;if(e){var t=this._instance.config.mask_personal_data_properties,r=this._instance.config.custom_personal_data_properties,n=t?jt([],qt,r||[]):[];return gr(e,n,vr)}Xe.error("Could not determine current URL")}}var yu=ee("[Heatmaps]");function Es(i){return ae(i)&&"clientX"in i&&"clientY"in i&&Me(i.clientX)&&Me(i.clientY)}class bu{constructor(e){var t;this.rageclicks=new Po,this.Tt=!1,this.C=!1,this.Mt=null,this.instance=e,this.Tt=!((t=this.instance.persistence)==null||!t.props[Li])}get flushIntervalMilliseconds(){var e=5e3;return ae(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return b(this.instance.config.capture_heatmaps)?b(this.instance.config.enable_heatmaps)?this.Tt:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.C)return;yu.info("starting..."),this.At(),this.jt()}else{var e;clearInterval((e=this.Mt)!==null&&e!==void 0?e:void 0),this.Dt(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Li]:t}),this.Tt=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.q;return this.q=void 0,e}Lt(e){this.Nt(e.originalEvent,"deadclick")}jt(){this.Mt&&clearInterval(this.Mt),this.Mt=(function(e){return e?.visibilityState==="visible"})(w)?setInterval(this.Ut.bind(this),this.flushIntervalMilliseconds):null}At(){g&&w&&(this.zt=this.Ut.bind(this),K(g,"beforeunload",this.zt),this.Ht=e=>this.Nt(e||g?.event),K(w,"click",this.Ht,{capture:!0}),this.Bt=e=>this.qt(e||g?.event),K(w,"mousemove",this.Bt,{capture:!0}),this.Wt=new Io(this.instance,Kl,this.Lt.bind(this)),this.Wt.startIfEnabled(),this.Gt=this.jt.bind(this),K(w,"visibilitychange",this.Gt),this.C=!0)}Dt(){var e;g&&w&&(this.zt&&g.removeEventListener("beforeunload",this.zt),this.Ht&&w.removeEventListener("click",this.Ht,{capture:!0}),this.Bt&&w.removeEventListener("mousemove",this.Bt,{capture:!0}),this.Gt&&w.removeEventListener("visibilitychange",this.Gt),clearTimeout(this.Vt),(e=this.Wt)==null||e.stop(),this.C=!1)}Jt(e,t){var r=this.instance.scrollManager.scrollY(),n=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=(function(a,l,u){for(var c=a;c&&ii(c)&&!nt(c,"body");){if(c===u)return!1;if(R(l,g?.getComputedStyle(c).position))return!0;c=yo(c)}return!1})(_o(e),["fixed","sticky"],s);return{x:e.clientX+(o?0:n),y:e.clientY+(o?0:r),target_fixed:o,type:t}}Nt(e,t){var r;if(t===void 0&&(t="click"),!as(e.target)&&Es(e)){var n=this.Jt(e,t);(r=this.rageclicks)!=null&&r.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.Kt(k({},n,{type:"rageclick"})),this.Kt(n)}}qt(e){!as(e.target)&&Es(e)&&(clearTimeout(this.Vt),this.Vt=setTimeout((()=>{this.Kt(this.Jt(e,"mousemove"))}),500))}Kt(e){if(g){var t=g.location.href,r=this.instance.config.mask_personal_data_properties,n=this.instance.config.custom_personal_data_properties,s=r?jt([],qt,n||[]):[],o=gr(t,s,vr);this.q=this.q||{},this.q[o]||(this.q[o]=[]),this.q[o].push(e)}}Ut(){this.q&&!xt(this.q)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class wu{constructor(e){this._instance=e}doPageView(e,t){var r,n=this.Yt(e,t);return this.Xt={pathname:(r=g?.location.pathname)!==null&&r!==void 0?r:"",pageViewId:t,timestamp:e},this._instance.scrollManager.resetContext(),n}doPageLeave(e){var t;return this.Yt(e,(t=this.Xt)==null?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.Xt)==null?void 0:e.pageViewId}}Yt(e,t){var r=this.Xt;if(!r)return{$pageview_id:t};var n={$pageview_id:t,$prev_pageview_id:r.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:o,lastScrollY:a,maxScrollY:l,maxContentHeight:u,lastContentY:c,maxContentY:h}=s;if(!(b(o)||b(a)||b(l)||b(u)||b(c)||b(h))){o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c),h=Math.ceil(h);var p=o<=1?1:Ae(a/o,0,1,x),d=o<=1?1:Ae(l/o,0,1,x),v=u<=1?1:Ae(c/u,0,1,x),f=u<=1?1:Ae(h/u,0,1,x);n=G(n,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:p,$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:d,$prev_pageview_last_content:c,$prev_pageview_last_content_percentage:v,$prev_pageview_max_content:h,$prev_pageview_max_content_percentage:f})}}return r.pathname&&(n.$prev_pageview_pathname=r.pathname),r.timestamp&&(n.$prev_pageview_duration=(e.getTime()-r.timestamp.getTime())/1e3),n}}var Se=Uint8Array,ge=Uint16Array,Ft=Uint32Array,wn=new Se([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),En=new Se([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xs=new Se([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ea=function(i,e){for(var t=new ge(31),r=0;r<31;++r)t[r]=e+=1<<i[r-1];var n=new Ft(t[30]);for(r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)n[s]=s-t[r]<<5|r;return[t,n]},ta=ea(wn,2),Eu=ta[0],Xi=ta[1];Eu[28]=258,Xi[258]=28;for(var Ss=ea(En,0)[1],ra=new ge(32768),z=0;z<32768;++z){var ut=(43690&z)>>>1|(21845&z)<<1;ut=(61680&(ut=(52428&ut)>>>2|(13107&ut)<<2))>>>4|(3855&ut)<<4,ra[z]=((65280&ut)>>>8|(255&ut)<<8)>>>1}var ir=function(i,e,t){for(var r=i.length,n=0,s=new ge(e);n<r;++n)++s[i[n]-1];var o,a=new ge(e);for(n=0;n<e;++n)a[n]=a[n-1]+s[n-1]<<1;for(o=new ge(r),n=0;n<r;++n)o[n]=ra[a[i[n]-1]++]>>>15-i[n];return o},vt=new Se(288);for(z=0;z<144;++z)vt[z]=8;for(z=144;z<256;++z)vt[z]=9;for(z=256;z<280;++z)vt[z]=7;for(z=280;z<288;++z)vt[z]=8;var Kr=new Se(32);for(z=0;z<32;++z)Kr[z]=5;var xu=ir(vt,9),Su=ir(Kr,5),ia=function(i){return(i/8>>0)+(7&i&&1)},na=function(i,e,t){(t==null||t>i.length)&&(t=i.length);var r=new(i instanceof ge?ge:i instanceof Ft?Ft:Se)(t-e);return r.set(i.subarray(e,t)),r},je=function(i,e,t){t<<=7&e;var r=e/8>>0;i[r]|=t,i[r+1]|=t>>>8},Vt=function(i,e,t){t<<=7&e;var r=e/8>>0;i[r]|=t,i[r+1]|=t>>>8,i[r+2]|=t>>>16},bi=function(i,e){for(var t=[],r=0;r<i.length;++r)i[r]&&t.push({s:r,f:i[r]});var n=t.length,s=t.slice();if(!n)return[new Se(0),0];if(n==1){var o=new Se(t[0].s+1);return o[t[0].s]=1,[o,1]}t.sort((function(M,X){return M.f-X.f})),t.push({s:-1,f:25001});var a=t[0],l=t[1],u=0,c=1,h=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=n-1;)a=t[t[u].f<t[h].f?u++:h++],l=t[u!=c&&t[u].f<t[h].f?u++:h++],t[c++]={s:-1,f:a.f+l.f,l:a,r:l};var p=s[0].s;for(r=1;r<n;++r)s[r].s>p&&(p=s[r].s);var d=new ge(p+1),v=Ji(t[c-1],d,0);if(v>e){r=0;var f=0,_=v-e,y=1<<_;for(s.sort((function(M,X){return d[X.s]-d[M.s]||M.f-X.f}));r<n;++r){var E=s[r].s;if(!(d[E]>e))break;f+=y-(1<<v-d[E]),d[E]=e}for(f>>>=_;f>0;){var S=s[r].s;d[S]<e?f-=1<<e-d[S]++-1:++r}for(;r>=0&&f;--r){var I=s[r].s;d[I]==e&&(--d[I],++f)}v=e}return[new Se(d),v]},Ji=function(i,e,t){return i.s==-1?Math.max(Ji(i.l,e,t+1),Ji(i.r,e,t+1)):e[i.s]=t},ks=function(i){for(var e=i.length;e&&!i[--e];);for(var t=new ge(++e),r=0,n=i[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(i[a]==n&&a!=e)++s;else{if(!n&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(n),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(n);s=1,n=i[a]}return[t.subarray(0,r),e]},Wt=function(i,e){for(var t=0,r=0;r<e.length;++r)t+=i[r]*e[r];return t},Zi=function(i,e,t){var r=t.length,n=ia(e+2);i[n]=255&r,i[n+1]=r>>>8,i[n+2]=255^i[n],i[n+3]=255^i[n+1];for(var s=0;s<r;++s)i[n+s+4]=t[s];return 8*(n+4+r)},Ps=function(i,e,t,r,n,s,o,a,l,u,c){je(e,c++,t),++n[256];for(var h=bi(n,15),p=h[0],d=h[1],v=bi(s,15),f=v[0],_=v[1],y=ks(p),E=y[0],S=y[1],I=ks(f),M=I[0],X=I[1],J=new ge(19),O=0;O<E.length;++O)J[31&E[O]]++;for(O=0;O<M.length;++O)J[31&M[O]]++;for(var ve=bi(J,7),se=ve[0],_e=ve[1],he=19;he>4&&!se[xs[he-1]];--he);var F,P,W,Ve,We=u+5<<3,at=Wt(n,vt)+Wt(s,Kr)+o,Ce=Wt(n,p)+Wt(s,f)+o+14+3*he+Wt(J,se)+(2*J[16]+3*J[17]+7*J[18]);if(We<=at&&We<=Ce)return Zi(e,c,i.subarray(l,l+u));if(je(e,c,1+(Ce<at)),c+=2,Ce<at){F=ir(p,d),P=p,W=ir(f,_),Ve=f;var Ge=ir(se,_e);for(je(e,c,S-257),je(e,c+5,X-1),je(e,c+10,he-4),c+=14,O=0;O<he;++O)je(e,c+3*O,se[xs[O]]);c+=3*he;for(var yt=[E,M],le=0;le<2;++le){var be=yt[le];for(O=0;O<be.length;++O){var me=31&be[O];je(e,c,Ge[me]),c+=se[me],me>15&&(je(e,c,be[O]>>>5&127),c+=be[O]>>>12)}}}else F=xu,P=vt,W=Su,Ve=Kr;for(O=0;O<a;++O)if(r[O]>255){me=r[O]>>>18&31,Vt(e,c,F[me+257]),c+=P[me+257],me>7&&(je(e,c,r[O]>>>23&31),c+=wn[me]);var bt=31&r[O];Vt(e,c,W[bt]),c+=Ve[bt],bt>3&&(Vt(e,c,r[O]>>>5&8191),c+=En[bt])}else Vt(e,c,F[r[O]]),c+=P[r[O]];return Vt(e,c,F[256]),c+P[256]},ku=new Ft([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Pu=(function(){for(var i=new Ft(256),e=0;e<256;++e){for(var t=e,r=9;--r;)t=(1&t&&3988292384)^t>>>1;i[e]=t}return i})(),Tu=function(i,e,t,r,n){return(function(s,o,a,l,u,c){var h=s.length,p=new Se(l+h+5*(1+Math.floor(h/7e3))+u),d=p.subarray(l,p.length-u),v=0;if(!o||h<8)for(var f=0;f<=h;f+=65535){var _=f+65535;_<h?v=Zi(d,v,s.subarray(f,_)):(d[f]=c,v=Zi(d,v,s.subarray(f,h)))}else{for(var y=ku[o-1],E=y>>>13,S=8191&y,I=(1<<a)-1,M=new ge(32768),X=new ge(I+1),J=Math.ceil(a/3),O=2*J,ve=function(ui){return(s[ui]^s[ui+1]<<J^s[ui+2]<<O)&I},se=new Ft(25e3),_e=new ge(288),he=new ge(32),F=0,P=0,W=(f=0,0),Ve=0,We=0;f<h;++f){var at=ve(f),Ce=32767&f,Ge=X[at];if(M[Ce]=Ge,X[at]=Ce,Ve<=f){var yt=h-f;if((F>7e3||W>24576)&&yt>423){v=Ps(s,d,0,se,_e,he,P,W,We,f-We,v),W=F=P=0,We=f;for(var le=0;le<286;++le)_e[le]=0;for(le=0;le<30;++le)he[le]=0}var be=2,me=0,bt=S,Ke=Ce-Ge&32767;if(yt>2&&at==ve(f-Ke))for(var Sa=Math.min(E,yt)-1,ka=Math.min(32767,f),Pa=Math.min(258,yt);Ke<=ka&&--bt&&Ce!=Ge;){if(s[f+be]==s[f+be-Ke]){for(var Ye=0;Ye<Pa&&s[f+Ye]==s[f+Ye-Ke];++Ye);if(Ye>be){if(be=Ye,me=Ke,Ye>Sa)break;var Ta=Math.min(Ke,Ye-2),Mn=0;for(le=0;le<Ta;++le){var li=f-Ke+le+32768&32767,Dn=li-M[li]+32768&32767;Dn>Mn&&(Mn=Dn,Ge=li)}}}Ke+=(Ce=Ge)-(Ge=M[Ce])+32768&32767}if(me){se[W++]=268435456|Xi[be]<<18|Ss[me];var Ln=31&Xi[be],jn=31&Ss[me];P+=wn[Ln]+En[jn],++_e[257+Ln],++he[jn],Ve=f+be,++F}else se[W++]=s[f],++_e[s[f]]}}v=Ps(s,d,c,se,_e,he,P,W,We,f-We,v)}return na(p,0,l+ia(v)+u)})(i,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(i.length)))):12+e.mem,t,r,!0)},wi=function(i,e,t){for(;t;++e)i[e]=t,t>>>=8};function Iu(i,e){e===void 0&&(e={});var t=(function(){var a=4294967295;return{p:function(l){for(var u=a,c=0;c<l.length;++c)u=Pu[255&u^l[c]]^u>>>8;a=u},d:function(){return 4294967295^a}}})(),r=i.length;t.p(i);var n,s=Tu(i,e,10+((n=e).filename&&n.filename.length+1||0),8),o=s.length;return(function(a,l){var u=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:l.level==9?2:0,a[9]=3,l.mtime!=0&&wi(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),u){a[3]=8;for(var c=0;c<=u.length;++c)a[c+10]=u.charCodeAt(c)}})(s,e),wi(s,o-8,t.d()),wi(s,o-4,r),s}var Cu=function(i){var e,t,r,n,s="";for(e=t=0,r=(i=(i+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,n=0;n<r;n++){var o=i.charCodeAt(n),a=null;o<128?t++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),Be(a)||(t>e&&(s+=i.substring(e,t)),s+=a,e=t=n+1)}return t>e&&(s+=i.substring(e,i.length)),s},Au=!!Ri||!!Fi,Ts="text/plain",Yr=function(i,e,t){var r;t===void 0&&(t=!0);var[n,s]=i.split("?"),o=k({},e),a=(r=s?.split("&").map((u=>{var c,[h,p]=u.split("="),d=t&&(c=o[h])!==null&&c!==void 0?c:p;return delete o[h],h+"="+d})))!==null&&r!==void 0?r:[],l=Nl(o);return l&&a.push(l),n+"?"+a.join("&")},tr=(i,e)=>JSON.stringify(i,((t,r)=>typeof r=="bigint"?r.toString():r),e),Ei=i=>{var{data:e,compression:t}=i;if(e){if(t===ze.GZipJS){var r=Iu((function(l,u){var c=l.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(l);for(var h=new Se(l.length+(l.length>>>1)),p=0,d=function(y){h[p++]=y},v=0;v<c;++v){if(p+5>h.length){var f=new Se(p+8+(c-v<<1));f.set(h),h=f}var _=l.charCodeAt(v);_<128||u?d(_):_<2048?(d(192|_>>>6),d(128|63&_)):_>55295&&_<57344?(d(240|(_=65536+(1047552&_)|1023&l.charCodeAt(++v))>>>18),d(128|_>>>12&63),d(128|_>>>6&63),d(128|63&_)):(d(224|_>>>12),d(128|_>>>6&63),d(128|63&_))}return na(h,0,p)})(tr(e)),{mtime:0}),n=new Blob([r],{type:Ts});return{contentType:Ts,body:n,estimatedSize:n.size}}if(t===ze.Base64){var s=(function(l){var u,c,h,p,d,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=0,_=0,y="",E=[];if(!l)return l;l=Cu(l);do u=(d=l.charCodeAt(f++)<<16|l.charCodeAt(f++)<<8|l.charCodeAt(f++))>>18&63,c=d>>12&63,h=d>>6&63,p=63&d,E[_++]=v.charAt(u)+v.charAt(c)+v.charAt(h)+v.charAt(p);while(f<l.length);switch(y=E.join(""),l.length%3){case 1:y=y.slice(0,-2)+"==";break;case 2:y=y.slice(0,-1)+"="}return y})(tr(e)),o=(l=>"data="+encodeURIComponent(typeof l=="string"?l:tr(l)))(s);return{contentType:"application/x-www-form-urlencoded",body:o,estimatedSize:new Blob([o]).size}}var a=tr(e);return{contentType:"application/json",body:a,estimatedSize:new Blob([a]).size}}},Rr=[];Fi&&Rr.push({transport:"fetch",method:i=>{var e,t,{contentType:r,body:n,estimatedSize:s}=(e=Ei(i))!==null&&e!==void 0?e:{},o=new Headers;L(i.headers,(function(c,h){o.append(h,c)})),r&&o.append("Content-Type",r);var a=i.url,l=null;if(Kn){var u=new Kn;l={signal:u.signal,timeout:setTimeout((()=>u.abort()),i.timeout)}}Fi(a,k({method:i?.method||"GET",headers:o,keepalive:i.method==="POST"&&(s||0)<52428.8,body:n,signal:(t=l)==null?void 0:t.signal},i.fetchOptions)).then((c=>c.text().then((h=>{var p={statusCode:c.status,text:h};if(c.status===200)try{p.json=JSON.parse(h)}catch(d){x.error(d)}i.callback==null||i.callback(p)})))).catch((c=>{x.error(c),i.callback==null||i.callback({statusCode:0,text:c})})).finally((()=>l?clearTimeout(l.timeout):null))}}),Ri&&Rr.push({transport:"XHR",method:i=>{var e,t=new Ri;t.open(i.method||"GET",i.url,!0);var{contentType:r,body:n}=(e=Ei(i))!==null&&e!==void 0?e:{};L(i.headers,(function(s,o){t.setRequestHeader(o,s)})),r&&t.setRequestHeader("Content-Type",r),i.timeout&&(t.timeout=i.timeout),i.disableXHRCredentials||(t.withCredentials=!0),t.onreadystatechange=()=>{if(t.readyState===4){var s={statusCode:t.status,text:t.responseText};if(t.status===200)try{s.json=JSON.parse(t.responseText)}catch{}i.callback==null||i.callback(s)}},t.send(n)}}),ye!=null&&ye.sendBeacon&&Rr.push({transport:"sendBeacon",method:i=>{var e=Yr(i.url,{beacon:"1"});try{var t,{contentType:r,body:n}=(t=Ei(i))!==null&&t!==void 0?t:{},s=typeof n=="string"?new Blob([n],{type:r}):n;ye.sendBeacon(e,s)}catch{}}});var Rt=function(i,e){if(!(function(t){try{new RegExp(t)}catch{return!1}return!0})(e))return!1;try{return new RegExp(e).test(i)}catch{return!1}};function Is(i,e,t){return tr({distinct_id:i,userPropertiesToSet:e,userPropertiesToSetOnce:t})}var sa={exact:(i,e)=>e.some((t=>i.some((r=>t===r)))),is_not:(i,e)=>e.every((t=>i.every((r=>t!==r)))),regex:(i,e)=>e.some((t=>i.some((r=>Rt(t,r))))),not_regex:(i,e)=>e.every((t=>i.every((r=>!Rt(t,r))))),icontains:(i,e)=>e.map(Cr).some((t=>i.map(Cr).some((r=>t.includes(r))))),not_icontains:(i,e)=>e.map(Cr).every((t=>i.map(Cr).every((r=>!t.includes(r)))))},Cr=i=>i.toLowerCase(),xi=ee("[Error tracking]");class $u{constructor(e){var t,r;this.Qt=[],this.Zt=new hl([new dl,new wl,new pl,new fl,new yl,new ml,new vl,new bl],[ol,ul]),this._instance=e,this.Qt=(t=(r=this._instance.persistence)==null?void 0:r.get_property(ji))!==null&&t!==void 0?t:[]}onRemoteConfig(e){var t,r,n,s=(t=(r=e.errorTracking)==null?void 0:r.suppressionRules)!==null&&t!==void 0?t:[],o=(n=e.errorTracking)==null?void 0:n.captureExtensionExceptions;this.Qt=s,this._instance.persistence&&this._instance.persistence.register({[ji]:this.Qt,[ns]:o})}get ti(){var e,t=!!this._instance.get_property(ns),r=this._instance.config.error_tracking.captureExtensionExceptions;return(e=r??t)!==null&&e!==void 0&&e}buildProperties(e,t){return this.Zt.buildFromUnknown(e,{syntheticException:t?.syntheticException,mechanism:{handled:t?.handled}})}sendExceptionEvent(e){var t=e.$exception_list;if(this.ii(t)){if(this.ei(t))return void xi.info("Skipping exception capture because a suppression rule matched");if(!this.ti&&this.ri(t))return void xi.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.si(t))return void xi.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"})}ei(e){if(e.length===0)return!1;var t=e.reduce(((r,n)=>{var{type:s,value:o}=n;return Z(s)&&s.length>0&&r.$exception_types.push(s),Z(o)&&o.length>0&&r.$exception_values.push(o),r}),{$exception_types:[],$exception_values:[]});return this.Qt.some((r=>{var n=r.values.map((s=>{var o,a=sa[s.operator],l=H(s.value)?s.value:[s.value],u=(o=t[s.key])!==null&&o!==void 0?o:[];return l.length>0&&a(l,u)}));return r.type==="OR"?n.some(Boolean):n.every(Boolean)}))}ri(e){return e.flatMap((t=>{var r,n;return(r=(n=t.stacktrace)==null?void 0:n.frames)!==null&&r!==void 0?r:[]})).some((t=>t.filename&&t.filename.startsWith("chrome-extension://")))}si(e){if(e.length>0){var t,r,n,s,o=(t=(r=e[0].stacktrace)==null?void 0:r.frames)!==null&&t!==void 0?t:[],a=o[o.length-1];return(n=a==null||(s=a.filename)==null?void 0:s.includes("posthog.com/static"))!==null&&n!==void 0&&n}return!1}ii(e){return!q(e)&&H(e)}}var Pe=ee("[FeatureFlags]"),Si="$active_feature_flags",wt="$override_feature_flags",Cs="$feature_flag_payloads",Gt="$override_feature_flag_payloads",As="$feature_flag_request_id",$s=i=>{var e={};for(var[t,r]of Fr(i||{}))r&&(e[t]=r);return e},Fu=i=>{var e=i.flags;return e?(i.featureFlags=Object.fromEntries(Object.keys(e).map((t=>{var r;return[t,(r=e[t].variant)!==null&&r!==void 0?r:e[t].enabled]}))),i.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter((t=>e[t].enabled)).filter((t=>{var r;return(r=e[t].metadata)==null?void 0:r.payload})).map((t=>{var r;return[t,(r=e[t].metadata)==null?void 0:r.payload]})))):Pe.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),i},Ru=(function(i){return i.FeatureFlags="feature_flags",i.Recordings="recordings",i})({});class Ou{constructor(e){this.ni=!1,this.oi=!1,this.ai=!1,this.li=!1,this.ui=!1,this.hi=!1,this.di=!1,this._instance=e,this.featureFlagEventHandlers=[]}vi(){var e=this._instance.config.evaluation_environments;return e!=null&&e.length?e.filter((t=>{var r=t&&typeof t=="string"&&t.trim().length>0;return r||Pe.error("Invalid evaluation environment found:",t,"Expected non-empty string"),r})):[]}ci(){return this.vi().length>0}flags(){if(this._instance.config.__preview_remote_config)this.hi=!0;else{var e=!this.fi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.pi({disableFlags:e})}}get hasLoadedFlags(){return this.oi}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(qi),t=this._instance.get_property(wt),r=this._instance.get_property(Gt);if(!r&&!t)return e||{};var n=G({},e||{}),s=[...new Set([...Object.keys(r||{}),...Object.keys(t||{})])];for(var o of s){var a,l,u=n[o],c=t?.[o],h=b(c)?(a=u?.enabled)!==null&&a!==void 0&&a:!!c,p=b(c)?u.variant:typeof c=="string"?c:void 0,d=r?.[o],v=k({},u,{enabled:h,variant:h?p??u?.variant:void 0});h!==u?.enabled&&(v.original_enabled=u?.enabled),p!==u?.variant&&(v.original_variant=u?.variant),d&&(v.metadata=k({},u?.metadata,{payload:d,original_payload:u==null||(l=u.metadata)==null?void 0:l.payload})),n[o]=v}return this.ni||(Pe.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:r,finalDetails:n}),this.ni=!0),n}getFlagVariants(){var e=this._instance.get_property(St),t=this._instance.get_property(wt);if(!t)return e||{};for(var r=G({},e),n=Object.keys(t),s=0;s<n.length;s++)r[n[s]]=t[n[s]];return this.ni||(Pe.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:r}),this.ni=!0),r}getFlagPayloads(){var e=this._instance.get_property(Cs),t=this._instance.get_property(Gt);if(!t)return e||{};for(var r=G({},e||{}),n=Object.keys(t),s=0;s<n.length;s++)r[n[s]]=t[n[s]];return this.ni||(Pe.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:t,finalPayloads:r}),this.ni=!0),r}reloadFeatureFlags(){this.li||this._instance.config.advanced_disable_feature_flags||this.fi||(this.fi=setTimeout((()=>{this.pi()}),5))}gi(){clearTimeout(this.fi),this.fi=void 0}ensureFlagsLoaded(){this.oi||this.ai||this.fi||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.li=e}pi(e){var t;if(this.gi(),!this._instance.L())if(this.ai)this.ui=!0;else{var r={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:k({},((t=this._instance.persistence)==null?void 0:t.get_initial_props())||{},this._instance.get_property(Qt)||{}),group_properties:this._instance.get_property(ht)};(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(r.disable_flags=!0),this.ci()&&(r.evaluation_environments=this.vi());var n=this._instance.config.__preview_remote_config,s=n?"/flags/?v=2":"/flags/?v=2&config=true",o=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",a=this._instance.requestRouter.endpointFor("api",s+o);n&&(r.timezone=Qo()),this.ai=!0,this._instance.mi({method:"POST",url:a,data:r,compression:this._instance.config.disable_compression?void 0:ze.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:l=>{var u,c,h=!0;if(l.statusCode===200&&(this.ui||(this.$anon_distinct_id=void 0),h=!1),this.ai=!1,this.hi||(this.hi=!0,this._instance.yi((c=l.json)!==null&&c!==void 0?c:{})),!r.disable_flags||this.ui)if(this.di=!h,l.json&&(u=l.json.quotaLimited)!=null&&u.includes(Ru.FeatureFlags))Pe.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var p;r.disable_flags||this.receivedFeatureFlags((p=l.json)!==null&&p!==void 0?p:{},h),this.ui&&(this.ui=!1,this.pi())}}})}}getFeatureFlag(e,t){if(t===void 0&&(t={}),this.oi||this.getFlags()&&this.getFlags().length>0){var r=this.getFlagVariants()[e],n=""+r,s=this._instance.get_property(As)||void 0,o=this._instance.get_property(jr)||{};if((t.send_event||!("send_event"in t))&&(!(e in o)||!o[e].includes(n))){var a,l,u,c,h,p,d,v,f;H(o[e])?o[e].push(n):o[e]=[n],(a=this._instance.persistence)==null||a.register({[jr]:o});var _=this.getFeatureFlagDetails(e),y={$feature_flag:e,$feature_flag_response:r,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:((l=this._instance.config.bootstrap)==null||(l=l.featureFlags)==null?void 0:l[e])||null,$feature_flag_bootstrapped_payload:((u=this._instance.config.bootstrap)==null||(u=u.featureFlagPayloads)==null?void 0:u[e])||null,$used_bootstrap_value:!this.di};b(_==null||(c=_.metadata)==null?void 0:c.version)||(y.$feature_flag_version=_.metadata.version);var E,S=(h=_==null||(p=_.reason)==null?void 0:p.description)!==null&&h!==void 0?h:_==null||(d=_.reason)==null?void 0:d.code;S&&(y.$feature_flag_reason=S),_!=null&&(v=_.metadata)!=null&&v.id&&(y.$feature_flag_id=_.metadata.id),b(_?.original_variant)&&b(_?.original_enabled)||(y.$feature_flag_original_response=b(_.original_variant)?_.original_enabled:_.original_variant),_!=null&&(f=_.metadata)!=null&&f.original_payload&&(y.$feature_flag_original_payload=_==null||(E=_.metadata)==null?void 0:E.original_payload),this._instance.capture("$feature_flag_called",y)}return r}Pe.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,t){var r=this._instance.config.token,n={distinct_id:this._instance.get_distinct_id(),token:r};this.ci()&&(n.evaluation_environments=this.vi()),this._instance.mi({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:n,compression:this._instance.config.disable_compression?void 0:ze.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:s=>{var o,a=(o=s.json)==null?void 0:o.featureFlagPayloads;t(a?.[e]||void 0)}})}isFeatureEnabled(e,t){if(t===void 0&&(t={}),this.oi||this.getFlags()&&this.getFlags().length>0){var r=this.getFeatureFlag(e,t);return b(r)?void 0:!!r}Pe.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((t=>t!==e))}receivedFeatureFlags(e,t){if(this._instance.persistence){this.oi=!0;var r=this.getFlagVariants(),n=this.getFlagPayloads(),s=this.getFlagsWithDetails();(function(o,a,l,u,c){l===void 0&&(l={}),u===void 0&&(u={}),c===void 0&&(c={});var h=Fu(o),p=h.flags,d=h.featureFlags,v=h.featureFlagPayloads;if(d){var f=o.requestId;if(H(d)){Pe.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var _={};if(d)for(var y=0;y<d.length;y++)_[d[y]]=!0;a&&a.register({[Si]:d,[St]:_})}else{var E=d,S=v,I=p;o.errorsWhileComputingFlags&&(E=k({},l,E),S=k({},u,S),I=k({},c,I)),a&&a.register(k({[Si]:Object.keys($s(E)),[St]:E||{},[Cs]:S||{},[qi]:I||{}},f?{[As]:f}:{}))}}})(e,this._instance.persistence,r,n,s),this.bi(t)}}override(e,t){t===void 0&&(t=!1),Pe.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return Pe.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(wt),this._instance.persistence.unregister(Gt),void this.bi();if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var t,r=e;if(this.ni=!!((t=r.suppressWarning)!==null&&t!==void 0&&t),"flags"in r){if(r.flags===!1)this._instance.persistence.unregister(wt);else if(r.flags)if(H(r.flags)){for(var n={},s=0;s<r.flags.length;s++)n[r.flags[s]]=!0;this._instance.persistence.register({[wt]:n})}else this._instance.persistence.register({[wt]:r.flags})}return"payloads"in r&&(r.payloads===!1?this._instance.persistence.unregister(Gt):r.payloads&&this._instance.persistence.register({[Gt]:r.payloads})),void this.bi()}this.bi()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.oi){var{flags:t,flagVariants:r}=this.wi();e(t,r)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t,r){var n,s=(this._instance.get_property(Zt)||[]).find((u=>u.flagKey===e)),o={["$feature_enrollment/"+e]:t},a={$feature_flag:e,$feature_enrollment:t,$set:o};s&&(a.$early_access_feature_name=s.name),r&&(a.$feature_enrollment_stage=r),this._instance.capture("$feature_enrollment_update",a),this.setPersonPropertiesForFlags(o,!1);var l=k({},this.getFlagVariants(),{[e]:t});(n=this._instance.persistence)==null||n.register({[Si]:Object.keys($s(l)),[St]:l}),this.bi()}getEarlyAccessFeatures(e,t,r){t===void 0&&(t=!1);var n=this._instance.get_property(Zt),s=r?"&"+r.map((o=>"stage="+o)).join("&"):"";if(n&&!t)return e(n);this._instance.mi({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:o=>{var a,l;if(o.json){var u=o.json.earlyAccessFeatures;return(a=this._instance.persistence)==null||a.unregister(Zt),(l=this._instance.persistence)==null||l.register({[Zt]:u}),e(u)}}})}wi(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter((r=>t[r])),flagVariants:Object.keys(t).filter((r=>t[r])).reduce(((r,n)=>(r[n]=t[n],r)),{})}}bi(e){var{flags:t,flagVariants:r}=this.wi();this.featureFlagEventHandlers.forEach((n=>n(t,r,{errorsLoading:e})))}setPersonPropertiesForFlags(e,t){t===void 0&&(t=!0);var r=this._instance.get_property(Qt)||{};this._instance.register({[Qt]:k({},r,e)}),t&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Qt)}setGroupPropertiesForFlags(e,t){t===void 0&&(t=!0);var r=this._instance.get_property(ht)||{};Object.keys(r).length!==0&&Object.keys(r).forEach((n=>{r[n]=k({},r[n],e[n]),delete e[n]})),this._instance.register({[ht]:k({},r,e)}),t&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this._instance.get_property(ht)||{};this._instance.register({[ht]:k({},t,{[e]:{}})})}else this._instance.unregister(ht)}reset(){this.oi=!1,this.ai=!1,this.li=!1,this.ui=!1,this.hi=!1,this.di=!1,this.$anon_distinct_id=void 0,this.gi(),this.ni=!1}}var Nu=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class ki{constructor(e,t){this.A=e,this.props={},this.xi=!1,this.Si=(r=>{var n="";return r.token&&(n=r.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),r.persistence_name?"ph_"+r.persistence_name:"ph_"+n+"_posthog"})(e),this.it=this.Ei(e),this.load(),e.debug&&x.info("Persistence loaded",e.persistence,k({},this.props)),this.update_config(e,e,t),this.save()}isDisabled(){return!!this.$i}Ei(e){Nu.indexOf(e.persistence.toLowerCase())===-1&&(x.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return t==="localstorage"&&B.G()?B:t==="localstorage+cookie"&&kr.G()?kr:t==="sessionstorage"&&te.G()?te:t==="memory"?Wl:t==="cookie"?Oe:kr.G()?kr:Oe}properties(){var e={};return L(this.props,(function(t,r){if(r===St&&ae(t))for(var n=Object.keys(t),s=0;s<n.length;s++)e["$feature/"+n[s]]=t[n[s]];else a=r,l=!1,(Be(o=Tl)?l:Gn&&o.indexOf===Gn?o.indexOf(a)!=-1:(L(o,(function(u){if(l||(l=u===a))return Dr})),l))||(e[r]=t);var o,a,l})),e}load(){if(!this.$i){var e=this.it.K(this.Si);e&&(this.props=G({},e))}}save(){this.$i||this.it.Y(this.Si,this.props,this.ki,this.Pi,this.Ti,this.A.debug)}remove(){this.it.X(this.Si,!1),this.it.X(this.Si,!0)}clear(){this.remove(),this.props={}}register_once(e,t,r){if(ae(e)){b(t)&&(t="None"),this.ki=b(r)?this.Ii:r;var n=!1;if(L(e,((s,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==t||(this.props[o]=s,n=!0)})),n)return this.save(),!0}return!1}register(e,t){if(ae(e)){this.ki=b(t)?this.Ii:t;var r=!1;if(L(e,((n,s)=>{e.hasOwnProperty(s)&&this.props[s]!==n&&(this.props[s]=n,r=!0)})),r)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.xi){var e=Go(this.A.custom_campaign_params,this.A.mask_personal_data_properties,this.A.custom_personal_data_properties);xt(fn(e))||this.register(e),this.xi=!0}}update_search_keyword(){var e;this.register((e=w?.referrer)?Yo(e):{})}update_referrer_info(){var e;this.register_once({$referrer:Xo(),$referring_domain:w!=null&&w.referrer&&((e=zr(w.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[Bi]||this.props[Vi]||this.register_once({[qr]:Jo(this.A.mask_personal_data_properties,this.A.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};L([Vi,Bi],(o=>{var a=this.props[o];a&&L(a,(function(l,u){e["$initial_"+Oi(u)]=l}))}));var t,r,n=this.props[qr];if(n){var s=(t=Zo(n),r={},L(t,(function(o,a){r["$initial_"+Oi(a)]=o})),r);G(e,s)}return e}safe_merge(e){return L(this.props,(function(t,r){r in e||(e[r]=t)})),e}update_config(e,t,r){if(this.Ii=this.ki=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!r),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var n=this.Ei(e),s=this.props;this.clear(),this.it=n,this.props=s,this.save()}}set_disabled(e){this.$i=e,this.$i?this.remove():this.save()}set_cross_subdomain(e){e!==this.Pi&&(this.Pi=e,this.remove(),this.save())}set_secure(e){e!==this.Ti&&(this.Ti=e,this.remove(),this.save())}set_event_timer(e,t){var r=this.props[Jt]||{};r[e]=t,this.props[Jt]=r,this.save()}remove_event_timer(e){var t=(this.props[Jt]||{})[e];return b(t)||(delete this.props[Jt][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}(function(i){return i.Button="button",i.Tab="tab",i.Selector="selector",i})({});(function(i){return i.TopLeft="top_left",i.TopRight="top_right",i.TopCenter="top_center",i.MiddleLeft="middle_left",i.MiddleRight="middle_right",i.MiddleCenter="middle_center",i.Left="left",i.Center="center",i.Right="right",i.NextToTrigger="next_to_trigger",i})({});var Pi=(function(i){return i.Popover="popover",i.API="api",i.Widget="widget",i.ExternalSurvey="external_survey",i})({});(function(i){return i.Open="open",i.MultipleChoice="multiple_choice",i.SingleChoice="single_choice",i.Rating="rating",i.Link="link",i})({});(function(i){return i.NextQuestion="next_question",i.End="end",i.ResponseBased="response_based",i.SpecificQuestion="specific_question",i})({});(function(i){return i.Once="once",i.Recurring="recurring",i.Always="always",i})({});var Or=(function(i){return i.SHOWN="survey shown",i.DISMISSED="survey dismissed",i.SENT="survey sent",i})({}),Fs=(function(i){return i.SURVEY_ID="$survey_id",i.SURVEY_NAME="$survey_name",i.SURVEY_RESPONSE="$survey_response",i.SURVEY_ITERATION="$survey_iteration",i.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",i.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",i.SURVEY_SUBMISSION_ID="$survey_submission_id",i.SURVEY_QUESTIONS="$survey_questions",i.SURVEY_COMPLETED="$survey_completed",i})({}),oa=(function(i){return i.Popover="popover",i.Inline="inline",i})({});class xn{constructor(){this.Ri={},this.Ri={}}on(e,t){return this.Ri[e]||(this.Ri[e]=[]),this.Ri[e].push(t),()=>{this.Ri[e]=this.Ri[e].filter((r=>r!==t))}}emit(e,t){for(var r of this.Ri[e]||[])r(t);for(var n of this.Ri["*"]||[])n(e,t)}}class dt{constructor(e){this.Ci=new xn,this.Oi=(t,r)=>this.Fi(t,r)&&this.Mi(t,r)&&this.Ai(t,r),this.Fi=(t,r)=>r==null||!r.event||t?.event===r?.event,this._instance=e,this.ji=new Set,this.Di=new Set}init(){var e;if(!b((e=this._instance)==null?void 0:e.Li)){var t;(t=this._instance)==null||t.Li(((r,n)=>{this.on(r,n)}))}}register(e){var t,r;if(!b((t=this._instance)==null?void 0:t.Li)&&(e.forEach((o=>{var a,l;(a=this.Di)==null||a.add(o),(l=o.steps)==null||l.forEach((u=>{var c;(c=this.ji)==null||c.add(u?.event||"")}))})),(r=this._instance)!=null&&r.autocapture)){var n,s=new Set;e.forEach((o=>{var a;(a=o.steps)==null||a.forEach((l=>{l!=null&&l.selector&&s.add(l?.selector)}))})),(n=this._instance)==null||n.autocapture.setElementSelectors(s)}}on(e,t){var r;t!=null&&e.length!=0&&(this.ji.has(e)||this.ji.has(t?.event))&&this.Di&&((r=this.Di)==null?void 0:r.size)>0&&this.Di.forEach((n=>{this.Ni(t,n)&&this.Ci.emit("actionCaptured",n.name)}))}Ui(e){this.onAction("actionCaptured",(t=>e(t)))}Ni(e,t){if(t?.steps==null)return!1;for(var r of t.steps)if(this.Oi(e,r))return!0;return!1}onAction(e,t){return this.Ci.on(e,t)}Mi(e,t){if(t!=null&&t.url){var r,n=e==null||(r=e.properties)==null?void 0:r.$current_url;if(!n||typeof n!="string"||!dt.zi(n,t?.url,t?.url_matching||"contains"))return!1}return!0}static zi(e,t,r){switch(r){case"regex":return!!g&&Rt(e,t);case"exact":return t===e;case"contains":var n=dt.Hi(t).replace(/_/g,".").replace(/%/g,".*");return Rt(e,n);default:return!1}}static Hi(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Ai(e,t){if((t!=null&&t.href||t!=null&&t.tag_name||t!=null&&t.text)&&!this.Bi(e).some((s=>!(t!=null&&t.href&&!dt.zi(s.href||"",t?.href,t?.href_matching||"exact"))&&(t==null||!t.tag_name||s.tag_name===t?.tag_name)&&!(t!=null&&t.text&&!dt.zi(s.text||"",t?.text,t?.text_matching||"exact")&&!dt.zi(s.$el_text||"",t?.text,t?.text_matching||"exact")))))return!1;if(t!=null&&t.selector){var r,n=e==null||(r=e.properties)==null?void 0:r.$element_selectors;if(!n||!n.includes(t?.selector))return!1}return!0}Bi(e){return e?.properties.$elements==null?[]:e?.properties.$elements}}var D=ee("[Surveys]"),Qi="seenSurvey_",Mu=(i,e)=>{var t="$survey_"+e+"/"+i.id;return i.current_iteration&&i.current_iteration>0&&(t="$survey_"+e+"/"+i.id+"/"+i.current_iteration),t},Rs=i=>{var e=""+Qi+i.id;return i.current_iteration&&i.current_iteration>0&&(e=""+Qi+i.id+"_"+i.current_iteration),e},Du=[Pi.Popover,Pi.Widget,Pi.API],Lu={ignoreConditions:!1,ignoreDelay:!1,displayType:oa.Popover};class ju{constructor(e){this._instance=e,this.qi=new Map,this.Wi=new Map}register(e){var t;b((t=this._instance)==null?void 0:t.Li)||(this.Gi(e),this.Vi(e))}Vi(e){var t=e.filter((r=>{var n,s;return((n=r.conditions)==null?void 0:n.actions)&&((s=r.conditions)==null||(s=s.actions)==null||(s=s.values)==null?void 0:s.length)>0}));t.length!==0&&(this.Ji==null&&(this.Ji=new dt(this._instance),this.Ji.init(),this.Ji.Ui((r=>{this.onAction(r)}))),t.forEach((r=>{var n,s,o,a,l;r.conditions&&(n=r.conditions)!=null&&n.actions&&(s=r.conditions)!=null&&(s=s.actions)!=null&&s.values&&((o=r.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0&&((a=this.Ji)==null||a.register(r.conditions.actions.values),(l=r.conditions)==null||(l=l.actions)==null||(l=l.values)==null||l.forEach((u=>{if(u&&u.name){var c=this.Wi.get(u.name);c&&c.push(r.id),this.Wi.set(u.name,c||[r.id])}})))})))}Gi(e){var t;e.filter((r=>{var n,s;return((n=r.conditions)==null?void 0:n.events)&&((s=r.conditions)==null||(s=s.events)==null||(s=s.values)==null?void 0:s.length)>0})).length!==0&&((t=this._instance)==null||t.Li(((r,n)=>{this.onEvent(r,n)})),e.forEach((r=>{var n;(n=r.conditions)==null||(n=n.events)==null||(n=n.values)==null||n.forEach((s=>{if(s&&s.name){var o=this.qi.get(s.name);o&&o.push(r.id),this.qi.set(s.name,o||[r.id])}}))})))}onEvent(e,t){var r,n,s=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[Sr])||[];if(Or.SHOWN===e&&t&&s.length>0){var o;D.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:t,existingActivatedSurveys:s});var a=t==null||(o=t.properties)==null?void 0:o.$survey_id;if(a){var l=s.indexOf(a);l>=0&&(s.splice(l,1),this.Ki(s))}}else if(this.qi.has(e)){D.info("survey event name matched",{event:e,eventPayload:t,surveys:this.qi.get(e)});var u=[];(n=this._instance)==null||n.getSurveys((h=>{u=h.filter((p=>{var d;return(d=this.qi.get(e))==null?void 0:d.includes(p.id)}))}));var c=u.filter((h=>{var p,d=(p=h.conditions)==null||(p=p.events)==null||(p=p.values)==null?void 0:p.find((v=>v.name===e));return!!d&&(!d.propertyFilters||Object.entries(d.propertyFilters).every((v=>{var f,[_,y]=v,E=t==null||(f=t.properties)==null?void 0:f[_];if(b(E)||Be(E))return!1;var S=[String(E)],I=sa[y.operator];return I?I(y.values,S):(D.warn("Unknown property comparison operator: "+y.operator),!1)})))}));this.Ki(s.concat(c.map((h=>h.id))||[]))}}onAction(e){var t,r=((t=this._instance)==null||(t=t.persistence)==null?void 0:t.props[Sr])||[];this.Wi.has(e)&&this.Ki(r.concat(this.Wi.get(e)||[]))}Ki(e){var t;D.info("updating activated surveys",{activatedSurveys:e}),(t=this._instance)==null||(t=t.persistence)==null||t.register({[Sr]:[...new Set(e)]})}getSurveys(){var e,t=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.props[Sr];return t||[]}getEventToSurveys(){return this.qi}Yi(){return this.Ji}}class qu{constructor(e){this.Xi=void 0,this._surveyManager=null,this.Qi=!1,this.Zi=!1,this.te=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){if(!this._instance.config.disable_surveys){var t=e.surveys;if(q(t))return D.warn("Flags not loaded yet. Not loading surveys.");var r=H(t);this.Xi=r?t.length>0:t,D.info("flags response received, isSurveysEnabled: "+this.Xi),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],t=0;t<localStorage.length;t++){var r=localStorage.key(t);(r!=null&&r.startsWith(Qi)||r!=null&&r.startsWith("inProgressSurvey_"))&&e.push(r)}e.forEach((n=>localStorage.removeItem(n)))}loadIfEnabled(){if(!this._surveyManager)if(this.Zi)D.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)D.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())D.info("Not loading surveys in cookieless mode without consent.");else{var e=T?.__PosthogExtensions__;if(e){if(!b(this.Xi)||this._instance.config.advanced_enable_surveys){var t=this.Xi||this._instance.config.advanced_enable_surveys;this.Zi=!0;try{var r=e.generateSurveys;if(r)return void this.ie(r,t);var n=e.loadExternalDependency;if(!n)return void this.ee("PostHog loadExternalDependency extension not found.");n(this._instance,"surveys",(s=>{s||!e.generateSurveys?this.ee("Could not load surveys script",s):this.ie(e.generateSurveys,t)}))}catch(s){throw this.ee("Error initializing surveys",s),s}finally{this.Zi=!1}}}else D.error("PostHog Extensions not found.")}}ie(e,t){this._surveyManager=e(this._instance,t),this._surveyEventReceiver=new ju(this._instance),D.info("Surveys loaded successfully"),this.re({isLoaded:!0})}ee(e,t){D.error(e,t),this.re({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.te.push(e),this._surveyManager&&this.re({isLoaded:!0}),()=>{this.te=this.te.filter((t=>t!==e))}}getSurveys(e,t){if(t===void 0&&(t=!1),this._instance.config.disable_surveys)return D.info("Disabled. Not loading surveys."),e([]);var r=this._instance.get_property(Ui);if(r&&!t)return e(r,{isLoaded:!0});if(this.Qi)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.Qi=!0,this._instance.mi({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:n=>{var s;this.Qi=!1;var o=n.statusCode;if(o!==200||!n.json){var a="Surveys API could not be loaded, status: "+o;return D.error(a),e([],{isLoaded:!1,error:a})}var l,u=n.json.surveys||[],c=u.filter((h=>(function(p){return!(!p.start_date||p.end_date)})(h)&&((function(p){var d;return!((d=p.conditions)==null||(d=d.events)==null||(d=d.values)==null||!d.length)})(h)||(function(p){var d;return!((d=p.conditions)==null||(d=d.actions)==null||(d=d.values)==null||!d.length)})(h))));return c.length>0&&((l=this._surveyEventReceiver)==null||l.register(c)),(s=this._instance.persistence)==null||s.register({[Ui]:u}),e(u,{isLoaded:!0})}})}catch(n){throw this.Qi=!1,n}}re(e){for(var t of this.te)try{if(!e.isLoaded)return t([],e);this.getSurveys(t)}catch(r){D.error("Error in survey callback",r)}}getActiveMatchingSurveys(e,t){if(t===void 0&&(t=!1),!q(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(e,t);D.warn("init was not called")}se(e){var t=null;return this.getSurveys((r=>{var n;t=(n=r.find((s=>s.id===e)))!==null&&n!==void 0?n:null})),t}ne(e){if(q(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var t=typeof e=="string"?this.se(e):e;return t?this._surveyManager.checkSurveyEligibility(t):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(q(this._surveyManager))return D.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var t=this.ne(e);return{visible:t.eligible,disabledReason:t.reason}}canRenderSurveyAsync(e,t){return q(this._surveyManager)?(D.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise((r=>{this.getSurveys((n=>{var s,o=(s=n.find((l=>l.id===e)))!==null&&s!==void 0?s:null;if(o){var a=this.ne(o);r({visible:a.eligible,disabledReason:a.reason})}else r({visible:!1,disabledReason:"Survey not found"})}),t)}))}renderSurvey(e,t){var r;if(q(this._surveyManager))D.warn("init was not called");else{var n=typeof e=="string"?this.se(e):e;if(n!=null&&n.id)if(Du.includes(n.type)){var s=w?.querySelector(t);if(s)return(r=n.appearance)!=null&&r.surveyPopupDelaySeconds?(D.info("Rendering survey "+n.id+" with delay of "+n.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout((()=>{var o,a;D.info("Rendering survey "+n.id+" with delay of "+((o=n.appearance)==null?void 0:o.surveyPopupDelaySeconds)+" seconds"),(a=this._surveyManager)==null||a.renderSurvey(n,s),D.info("Survey "+n.id+" rendered")}),1e3*n.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(n,s);D.warn("Survey element not found")}else D.warn("Surveys of type "+n.type+" cannot be rendered in the app");else D.warn("Survey not found")}}displaySurvey(e,t){var r;if(q(this._surveyManager))D.warn("init was not called");else{var n=this.se(e);if(n){var s=n;if((r=n.appearance)!=null&&r.surveyPopupDelaySeconds&&t.ignoreDelay&&(s=k({},n,{appearance:k({},n.appearance,{surveyPopupDelaySeconds:0})})),t.ignoreConditions===!1){var o=this.canRenderSurvey(n);if(!o.visible)return void D.warn("Survey is not eligible to be displayed: ",o.disabledReason)}t.displayType!==oa.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,t.selector)}else D.warn("Survey not found")}}}var Os=ee("[RateLimiter]");class Uu{constructor(e){var t,r;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=n=>{var s=n.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach((o=>{Os.info((o||"events")+" is quota limited."),this.serverLimits[o]=new Date().getTime()+6e4}))}catch(o){return void Os.warn('could not rate limit - continuing. Error: "'+o?.message+'"',{text:s})}},this.instance=e,this.captureEventsPerSecond=((t=e.config.rate_limiting)==null?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=e.config.rate_limiting)==null?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var t,r,n;e===void 0&&(e=!1);var s=new Date().getTime(),o=(t=(r=this.instance.persistence)==null?void 0:r.get_property(zi))!==null&&t!==void 0?t:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||e||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(n=this.instance.persistence)==null||n.set_property(zi,o),{isRateLimited:a,remainingTokens:o.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||"events"]||!1;return t!==!1&&new Date().getTime()<t}}var ct=ee("[RemoteConfig]");class Hu{constructor(e){this._instance=e}get remoteConfig(){var e;return(e=T._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.config}oe(e){var t,r;(t=T.__PosthogExtensions__)!=null&&t.loadExternalDependency?(r=T.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"remote-config",(()=>e(this.remoteConfig))):(ct.error("PostHog Extensions not found. Cannot load remote config."),e())}ae(e){this._instance.mi({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return ct.info("Using preloaded remote config",this.remoteConfig),void this.yi(this.remoteConfig);if(this._instance.L())return void ct.warn("Remote config is disabled. Falling back to local config.");this.oe((e=>{if(!e)return ct.info("No config found after loading remote JS config. Falling back to JSON."),void this.ae((t=>{this.yi(t)}));this.yi(e)}))}catch(e){ct.error("Error loading remote config",e)}}yi(e){e?this._instance.config.__preview_remote_config?(this._instance.yi(e),e.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):ct.info("__preview_remote_config is disabled. Logging config instead",e):ct.error("Failed to fetch remote config from PostHog.")}}var en=3e3;class zu{constructor(e,t){this.le=!0,this.ue=[],this.he=Ae(t?.flush_interval_ms||en,250,5e3,x.createLogger("flush interval"),en),this.de=e}enqueue(e){this.ue.push(e),this.ve||this.ce()}unload(){this.fe();var e=this.ue.length>0?this.pe():{},t=Object.values(e);[...t.filter((r=>r.url.indexOf("/e")===0)),...t.filter((r=>r.url.indexOf("/e")!==0))].map((r=>{this.de(k({},r,{transport:"sendBeacon"}))}))}enable(){this.le=!1,this.ce()}ce(){var e=this;this.le||(this.ve=setTimeout((()=>{if(this.fe(),this.ue.length>0){var t=this.pe(),r=function(){var s=t[n],o=new Date().getTime();s.data&&H(s.data)&&L(s.data,(a=>{a.offset=Math.abs(a.timestamp-o),delete a.timestamp})),e.de(s)};for(var n in t)r()}}),this.he))}fe(){clearTimeout(this.ve),this.ve=void 0}pe(){var e={};return L(this.ue,(t=>{var r,n=t,s=(n?n.batchKey:null)||n.url;b(e[s])&&(e[s]=k({},n,{data:[]})),(r=e[s].data)==null||r.push(n.data)})),this.ue=[],e}}var Bu=["retriesPerformedSoFar"];class Vu{constructor(e){this.ge=!1,this._e=3e3,this.ue=[],this._instance=e,this.ue=[],this.me=!0,!b(g)&&"onLine"in g.navigator&&(this.me=g.navigator.onLine,this.ye=()=>{this.me=!0,this.Ut()},this.be=()=>{this.me=!1},K(g,"online",this.ye),K(g,"offline",this.be))}get length(){return this.ue.length}retriableRequest(e){var{retriesPerformedSoFar:t}=e,r=to(e,Bu);Me(t)&&t>0&&(r.url=Yr(r.url,{retry_count:t})),this._instance.mi(k({},r,{callback:n=>{n.statusCode!==200&&(n.statusCode<400||n.statusCode>=500)&&(t??0)<10?this.we(k({retriesPerformedSoFar:t},r)):r.callback==null||r.callback(n)}}))}we(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var r=(function(o){var a=3e3*Math.pow(2,o),l=a/2,u=Math.min(18e5,a),c=(Math.random()-.5)*(u-l);return Math.ceil(u+c)})(t),n=Date.now()+r;this.ue.push({retryAt:n,requestOptions:e});var s="Enqueued failed request for retry in "+r;navigator.onLine||(s+=" (Browser is offline)"),x.warn(s),this.ge||(this.ge=!0,this.xe())}xe(){if(this.Se&&clearTimeout(this.Se),this.ue.length===0)return this.ge=!1,void(this.Se=void 0);this.Se=setTimeout((()=>{this.me&&this.ue.length>0&&this.Ut(),this.xe()}),this._e)}Ut(){var e=Date.now(),t=[],r=this.ue.filter((s=>s.retryAt<e||(t.push(s),!1)));if(this.ue=t,r.length>0)for(var{requestOptions:n}of r)this.retriableRequest(n)}unload(){for(var{requestOptions:e}of(this.Se&&(clearTimeout(this.Se),this.Se=void 0),this.ge=!1,b(g)||(this.ye&&(g.removeEventListener("online",this.ye),this.ye=void 0),this.be&&(g.removeEventListener("offline",this.be),this.be=void 0)),this.ue))try{this._instance.mi(k({},e,{transport:"sendBeacon"}))}catch(t){x.error(t)}this.ue=[]}}class Wu{constructor(e){this.Ee=()=>{var t,r,n,s;this.$e||(this.$e={});var o=this.scrollElement(),a=this.scrollY(),l=o?Math.max(0,o.scrollHeight-o.clientHeight):0,u=a+(o?.clientHeight||0),c=o?.scrollHeight||0;this.$e.lastScrollY=Math.ceil(a),this.$e.maxScrollY=Math.max(a,(t=this.$e.maxScrollY)!==null&&t!==void 0?t:0),this.$e.maxScrollHeight=Math.max(l,(r=this.$e.maxScrollHeight)!==null&&r!==void 0?r:0),this.$e.lastContentY=u,this.$e.maxContentY=Math.max(u,(n=this.$e.maxContentY)!==null&&n!==void 0?n:0),this.$e.maxContentHeight=Math.max(c,(s=this.$e.maxContentHeight)!==null&&s!==void 0?s:0)},this._instance=e}getContext(){return this.$e}resetContext(){var e=this.$e;return setTimeout(this.Ee,0),e}startMeasuringScrollPosition(){K(g,"scroll",this.Ee,{capture:!0}),K(g,"scrollend",this.Ee,{capture:!0}),K(g,"resize",this.Ee)}scrollElement(){if(!this._instance.config.scroll_root_selector)return g?.document.documentElement;var e=H(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var t of e){var r=g?.document.querySelector(t);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return g&&(g.scrollY||g.pageYOffset||g.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return g&&(g.scrollX||g.pageXOffset||g.document.documentElement.scrollLeft)||0}}var Gu=i=>Jo(i?.config.mask_personal_data_properties,i?.config.custom_personal_data_properties);class Ns{constructor(e,t,r,n){this.ke=s=>{var o=this.Pe();if(!o||o.sessionId!==s){var a={sessionId:s,props:this.Te(this._instance)};this.Ie.register({[Hi]:a})}},this._instance=e,this.Re=t,this.Ie=r,this.Te=n||Gu,this.Re.onSessionId(this.ke)}Pe(){return this.Ie.props[Hi]}getSetOnceProps(){var e,t=(e=this.Pe())==null?void 0:e.props;return t?"r"in t?Zo(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return L(fn(this.getSetOnceProps()),((t,r)=>{r==="$current_url"&&(r="url"),e["$session_entry_"+Oi(r)]=t})),e}}var Ti=ee("[SessionId]");class Ms{on(e,t){return this.Ce.on(e,t)}constructor(e,t,r){var n;if(this.Oe=[],this.Fe=void 0,this.Ce=new xn,this.Me=(c,h)=>Math.abs(c-h)>this.sessionTimeoutMs,!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.A=e.config,this.Ie=e.persistence,this.Ae=void 0,this.je=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.De=t||Qe,this.Le=r||Qe;var s=this.A.persistence_name||this.A.token,o=this.A.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Ae(o,60,36e3,Ti.createLogger("session_idle_timeout_seconds"),1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Ne(),this.Ue="ph_"+s+"_window_id",this.ze="ph_"+s+"_primary_window_exists",this.He()){var a=te.K(this.Ue),l=te.K(this.ze);a&&!l?this.Ae=a:te.X(this.Ue),te.Y(this.ze,!0)}if((n=this.A.bootstrap)!=null&&n.sessionID)try{var u=(c=>{var h=c.replace(/-/g,"");if(h.length!==32)throw new Error("Not a valid UUID");if(h[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(h.substring(0,12),16)})(this.A.bootstrap.sessionID);this.Be(this.A.bootstrap.sessionID,new Date().getTime(),u)}catch(c){Ti.error("Invalid sessionID in bootstrap",c)}this.qe()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return b(this.Oe)&&(this.Oe=[]),this.Oe.push(e),this.je&&e(this.je,this.Ae),()=>{this.Oe=this.Oe.filter((t=>t!==e))}}He(){return this.A.persistence!=="memory"&&!this.Ie.$i&&te.G()}We(e){e!==this.Ae&&(this.Ae=e,this.He()&&te.Y(this.Ue,e))}Ge(){return this.Ae?this.Ae:this.He()?te.K(this.Ue):null}Be(e,t,r){e===this.je&&t===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=t,this.je=e,this.Ie.register({[Lr]:[t,e,r]}))}Ve(){if(this.je&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.je,this._sessionStartTimestamp];var e=this.Ie.props[Lr];return H(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Be(null,null,null)}destroy(){clearTimeout(this.Je),this.Je=void 0,this.Fe&&g&&(g.removeEventListener("beforeunload",this.Fe,{capture:!1}),this.Fe=void 0),this.Oe=[]}qe(){this.Fe=()=>{this.He()&&te.X(this.ze)},K(g,"beforeunload",this.Fe,{capture:!1})}checkAndGetSessionAndWindowId(e,t){if(e===void 0&&(e=!1),t===void 0&&(t=null),this.A.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var r=t||new Date().getTime(),[n,s,o]=this.Ve(),a=this.Ge(),l=Me(o)&&o>0&&Math.abs(r-o)>864e5,u=!1,c=!s,h=!e&&this.Me(r,n);c||h||l?(s=this.De(),a=this.Le(),Ti.info("new session ID generated",{sessionId:s,windowId:a,changeReason:{noSessionId:c,activityTimeout:h,sessionPastMaximumLength:l}}),o=r,u=!0):a||(a=this.Le(),u=!0);var p=n===0||!e||l?r:n,d=o===0?new Date().getTime():o;return this.We(a),this.Be(s,p,d),e||this.Ne(),u&&this.Oe.forEach((v=>v(s,a,u?{noSessionId:c,activityTimeout:h,sessionPastMaximumLength:l}:void 0))),{sessionId:s,windowId:a,sessionStartTimestamp:d,changeReason:u?{noSessionId:c,activityTimeout:h,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:n}}Ne(){clearTimeout(this.Je),this.Je=setTimeout((()=>{var[e]=this.Ve();if(this.Me(new Date().getTime(),e)){var t=this.je;this.resetSessionId(),this.Ce.emit("forcedIdleReset",{idleSessionId:t})}}),1.1*this.sessionTimeoutMs)}}var Ku=["$set_once","$set"],Je=ee("[SiteApps]");class Yu{constructor(e){this._instance=e,this.Ke=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Ye(e,t){if(t){var r=this.globalsForEvent(t);this.Ke.push(r),this.Ke.length>1e3&&(this.Ke=this.Ke.slice(10))}}get siteAppLoaders(){var e;return(e=T._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Li(this.Ye.bind(this));this.Xe=()=>{e(),this.Ke=[],this.Xe=void 0}}}globalsForEvent(e){var t,r,n,s,o,a,l;if(!e)throw new Error("Event payload is required");var u={},c=this._instance.get_property("$groups")||[],h=this._instance.get_property("$stored_group_properties")||{};for(var[p,d]of Object.entries(h))u[p]={id:c[p],type:p,properties:d};var{$set_once:v,$set:f}=e;return{event:k({},to(e,Ku),{properties:k({},e.properties,f?{$set:k({},(t=(r=e.properties)==null?void 0:r.$set)!==null&&t!==void 0?t:{},f)}:{},v?{$set_once:k({},(n=(s=e.properties)==null?void 0:s.$set_once)!==null&&n!==void 0?n:{},v)}:{}),elements_chain:(o=(a=e.properties)==null?void 0:a.$elements_chain)!==null&&o!==void 0?o:"",distinct_id:(l=e.properties)==null?void 0:l.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(e){var t=this.apps[e.id],r=()=>{var a;!t.errored&&this.Ke.length&&(Je.info("Processing "+this.Ke.length+" events for site app with id "+e.id),this.Ke.forEach((l=>t.processEvent==null?void 0:t.processEvent(l))),t.processedBuffer=!0),Object.values(this.apps).every((l=>l.processedBuffer||l.errored))&&((a=this.Xe)==null||a.call(this))},n=!1,s=a=>{t.errored=!a,t.loaded=!0,Je.info("Site app with id "+e.id+" "+(a?"loaded":"errored")),n&&r()};try{var{processEvent:o}=e.init({posthog:this._instance,callback:a=>{s(a)}});o&&(t.processEvent=o),n=!0}catch(a){Je.error("Error while initializing PostHog app with config id "+e.id,a),s(!1)}if(n&&t.loaded)try{r()}catch(a){Je.error("Error while processing buffered events PostHog app with config id "+e.id,a),t.errored=!0}}Qe(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var r of e)this.setupSiteApp(r)}Ze(e){if(Object.keys(this.apps).length!==0){var t=this.globalsForEvent(e);for(var r of Object.values(this.apps))try{r.processEvent==null||r.processEvent(t)}catch(n){Je.error("Error while processing event "+e.event+" for site app "+r.id,n)}}}onRemoteConfig(e){var t,r,n,s=this;if((t=this.siteAppLoaders)!=null&&t.length)return this.isEnabled?(this.Qe(),void this._instance.on("eventCaptured",(u=>this.Ze(u)))):void Je.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((r=this.Xe)==null||r.call(this),(n=e.siteApps)!=null&&n.length)if(this.isEnabled){var o=function(u){var c;T["__$$ph_site_app_"+u]=s._instance,(c=T.__PosthogExtensions__)==null||c.loadSiteApp==null||c.loadSiteApp(s._instance,l,(h=>{if(h)return Je.error("Error while initializing PostHog app with config id "+u,h)}))};for(var{id:a,url:l}of e.siteApps)o(a)}else Je.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var Xu=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],Ds=function(i,e){if(!i)return!1;var t=i.toLowerCase();return Xu.concat(e||[]).some((r=>{var n=r.toLowerCase();return t.indexOf(n)!==-1}))},aa=function(i,e){if(!i)return!1;var t=i.userAgent;if(t&&Ds(t,e))return!0;try{var r=i?.userAgentData;if(r!=null&&r.brands&&r.brands.some((n=>Ds(n?.brand,e))))return!0}catch{}return!!i.webdriver},rr=(function(i){return i.US="us",i.EU="eu",i.CUSTOM="custom",i})({}),Ls="i.posthog.com";class Ju{constructor(e){this.tr={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get uiHost(){var e,t=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace("."+Ls,".posthog.com")),t==="https://app.posthog.com"?"https://us.posthog.com":t}get region(){return this.tr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.tr[this.apiHost]=rr.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.tr[this.apiHost]=rr.EU:this.tr[this.apiHost]=rr.CUSTOM),this.tr[this.apiHost]}endpointFor(e,t){if(t===void 0&&(t=""),t&&(t=t[0]==="/"?t:"/"+t),e==="ui")return this.uiHost+t;if(this.region===rr.CUSTOM)return this.apiHost+t;var r=Ls+t;switch(e){case"assets":return"https://"+this.region+"-assets."+r;case"api":return"https://"+this.region+"."+r}}}var Zu={icontains:(i,e)=>!!g&&e.href.toLowerCase().indexOf(i.toLowerCase())>-1,not_icontains:(i,e)=>!!g&&e.href.toLowerCase().indexOf(i.toLowerCase())===-1,regex:(i,e)=>!!g&&Rt(e.href,i),not_regex:(i,e)=>!!g&&!Rt(e.href,i),exact:(i,e)=>e.href===i,is_not:(i,e)=>e.href!==i};class oe{constructor(e){var t=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(r){r===void 0&&(r=!1),t.getWebExperiments((n=>{oe.ir("retrieved web experiments from the server"),t.er=new Map,n.forEach((s=>{if(s.feature_flag_key){var o;t.er&&(oe.ir("setting flag key ",s.feature_flag_key," to web experiment ",s),(o=t.er)==null||o.set(s.feature_flag_key,s));var a=t._instance.getFeatureFlag(s.feature_flag_key);Z(a)&&s.variants[a]&&t.rr(s.name,a,s.variants[a].transforms)}else if(s.variants)for(var l in s.variants){var u=s.variants[l];oe.sr(u)&&t.rr(s.name,l,u.transforms)}}))}),r)},this._instance=e,this._instance.onFeatureFlags((r=>{this.onFeatureFlags(r)}))}onFeatureFlags(e){if(this._is_bot())oe.ir("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(q(this.er))return this.er=new Map,this.loadIfEnabled(),void this.previewWebExperiment();oe.ir("applying feature flags",e),e.forEach((t=>{var r;if(this.er&&(r=this.er)!=null&&r.has(t)){var n,s=this._instance.getFeatureFlag(t),o=(n=this.er)==null?void 0:n.get(t);s&&o!=null&&o.variants[s]&&this.rr(o.name,s,o.variants[s].transforms)}}))}}previewWebExperiment(){var e=oe.getWindowLocation();if(e!=null&&e.search){var t=Br(e?.search,"__experiment_id"),r=Br(e?.search,"__experiment_variant");t&&r&&(oe.ir("previewing web experiments "+t+" && "+r),this.getWebExperiments((n=>{this.nr(parseInt(t),r,n)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,r){if(this._instance.config.disable_web_experiments&&!r)return e([]);var n=this._instance.get_property("$web_experiments");if(n&&!t)return e(n);this._instance.mi({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:s=>{if(s.statusCode!==200||!s.json)return e([]);var o=s.json.experiments||[];return e(o)}})}nr(e,t,r){var n=r.filter((s=>s.id===e));n&&n.length>0&&(oe.ir("Previewing web experiment ["+n[0].name+"] with variant ["+t+"]"),this.rr(n[0].name,t,n[0].variants[t].transforms))}static sr(e){return!q(e.conditions)&&oe.ar(e)&&oe.lr(e)}static ar(e){var t;if(q(e.conditions)||q((t=e.conditions)==null?void 0:t.url))return!0;var r,n,s,o=oe.getWindowLocation();return!!o&&((r=e.conditions)==null||!r.url||Zu[(n=(s=e.conditions)==null?void 0:s.urlMatchType)!==null&&n!==void 0?n:"icontains"](e.conditions.url,o))}static getWindowLocation(){return g?.location}static lr(e){var t;if(q(e.conditions)||q((t=e.conditions)==null?void 0:t.utm))return!0;var r=Go();if(r.utm_source){var n,s,o,a,l,u,c,h,p=(n=e.conditions)==null||(n=n.utm)==null||!n.utm_campaign||((s=e.conditions)==null||(s=s.utm)==null?void 0:s.utm_campaign)==r.utm_campaign,d=(o=e.conditions)==null||(o=o.utm)==null||!o.utm_source||((a=e.conditions)==null||(a=a.utm)==null?void 0:a.utm_source)==r.utm_source,v=(l=e.conditions)==null||(l=l.utm)==null||!l.utm_medium||((u=e.conditions)==null||(u=u.utm)==null?void 0:u.utm_medium)==r.utm_medium,f=(c=e.conditions)==null||(c=c.utm)==null||!c.utm_term||((h=e.conditions)==null||(h=h.utm)==null?void 0:h.utm_term)==r.utm_term;return p&&v&&f&&d}return!1}static ir(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];x.info("[WebExperiments] "+e,r)}rr(e,t,r){this._is_bot()?oe.ir("Refusing to render web experiment since the viewer is a likely bot"):t!=="control"?r.forEach((n=>{if(n.selector){var s;oe.ir("applying transform of variant "+t+" for experiment "+e+" ",n);var o=(s=document)==null?void 0:s.querySelectorAll(n.selector);o?.forEach((a=>{var l=a;n.html&&(l.innerHTML=n.html),n.css&&l.setAttribute("style",n.css)}))}})):oe.ir("Control variants leave the page unmodified.")}_is_bot(){return ye&&this._instance?aa(ye,this._instance.config.custom_blocked_useragents):void 0}}var Qu=ee("[PostHog ExternalIntegrations]"),ec={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class tc{constructor(e){this._instance=e}nt(e,t){var r;(r=T.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,e,(n=>{if(n)return Qu.error("failed to load script",n);t()}))}startIfEnabledOrStop(){var e=this,t=function(o){var a,l,u;!n||(a=T.__PosthogExtensions__)!=null&&(a=a.integrations)!=null&&a[o]||e.nt(ec[o],(()=>{var c;(c=T.__PosthogExtensions__)==null||(c=c.integrations)==null||(c=c[o])==null||c.start(e._instance)})),!n&&(l=T.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[o]&&((u=T.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[o])==null||u.stop())};for(var[r,n]of Object.entries((s=this._instance.config.integrations)!==null&&s!==void 0?s:{})){var s;t(r)}}}var tn="[SessionRecording]",Kt=ee(tn);class js{get started(){var e;return!((e=this.ur)==null||!e.isStarted)}get status(){return this.ur?this.ur.status:this.hr&&!this.dr?"disabled":"lazy_loading"}constructor(e){if(this._forceAllowLocalhostNetworkCapture=!1,this.hr=!1,this.vr=void 0,this._instance=e,!this._instance.sessionManager)throw Kt.error("started without valid sessionManager"),new Error(tn+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(tn+' cannot be used with cookieless_mode="always"')}get dr(){var e,t=!((e=this._instance.get_property(pi))==null||!e.enabled),r=!this._instance.config.disable_session_recording,n=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return g&&t&&r&&!n}startIfEnabledOrStop(e){var t;if(!this.dr||(t=this.ur)==null||!t.isStarted){var r=!b(Object.assign)&&!b(Array.from);this.dr&&r?(this.cr(e),Kt.info("starting")):this.stopRecording()}}cr(e){var t,r,n;this.dr&&(T!=null&&(t=T.__PosthogExtensions__)!=null&&(t=t.rrweb)!=null&&t.record&&(r=T.__PosthogExtensions__)!=null&&r.initSessionRecording?this.pr(e):(n=T.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,this.gr,(s=>{if(s)return Kt.error("could not load recorder",s);this.pr(e)})))}stopRecording(){var e,t;(e=this.vr)==null||e.call(this),this.vr=void 0,(t=this.ur)==null||t.stop()}_r(){var e;(e=this._instance.persistence)==null||e.unregister(ho)}mr(e){if(this._instance.persistence){var t,r,n=this._instance.persistence,s=()=>{var o=e.sessionRecording===!1?void 0:e.sessionRecording,a=o?.sampleRate,l=q(a)?null:parseFloat(a);q(l)&&this._r();var u=o?.minimumDurationMilliseconds;n.register({[pi]:k({enabled:!!o},o,{networkPayloadCapture:k({capturePerformance:e.capturePerformance},o?.networkPayloadCapture),canvasRecording:{enabled:o?.recordCanvas,fps:o?.canvasFps,quality:o?.canvasQuality},sampleRate:l,minimumDurationMilliseconds:b(u)?null:u,endpoint:o?.endpoint,triggerMatchType:o?.triggerMatchType,masking:o?.masking,urlTriggers:o?.urlTriggers})})};s(),(t=this.vr)==null||t.call(this),this.vr=(r=this._instance.sessionManager)==null?void 0:r.onSessionId(s)}}onRemoteConfig(e){"sessionRecording"in e?e.sessionRecording!==!1?(this.mr(e),this.hr=!0,this.startIfEnabledOrStop()):this.hr=!0:Kt.info("skipping remote config with no sessionRecording",e)}log(e,t){var r;t===void 0&&(t="log"),(r=this.ur)!=null&&r.log?this.ur.log(e,t):Kt.warn("log called before recorder was ready")}get gr(){var e,t,r=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.get_property(pi);return(r==null||(t=r.scriptConfig)==null?void 0:t.script)||"lazy-recorder"}pr(e){var t,r;if((t=T.__PosthogExtensions__)==null||!t.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.ur||(this.ur=(r=T.__PosthogExtensions__)==null?void 0:r.initSessionRecording(this._instance),this.ur._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.ur.start(e)}onRRwebEmit(e){var t;(t=this.ur)==null||t.onRRwebEmit==null||t.onRRwebEmit(e)}overrideLinkedFlag(){var e;(e=this.ur)==null||e.overrideLinkedFlag()}overrideSampling(){var e;(e=this.ur)==null||e.overrideSampling()}overrideTrigger(e){var t;(t=this.ur)==null||t.overrideTrigger(e)}get sdkDebugProperties(){var e;return((e=this.ur)==null?void 0:e.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(e,t){var r;return!((r=this.ur)==null||!r.tryAddCustomEvent(e,t))}}var nr={},rn=()=>{},Et="posthog",la=!Au&&de?.indexOf("MSIE")===-1&&de?.indexOf("Mozilla")===-1,qs=i=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Pl(w?.location),persistence:"localStorage+cookie",persistence_name:"",loaded:rn,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:i!=="2025-05-24"||"history_change",capture_pageleave:"if_capture_pageview",defaults:i??"unset",debug:fe&&Z(fe?.search)&&fe.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(g==null||(e=g.location)==null?void 0:e.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:t=>{var r="Bad HTTP status: "+t.statusCode+" "+t.text;x.error(r)},get_device_id:t=>t,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:en},error_tracking:{},_onCapture:rn,__preview_eager_load_replay:!1}},Us=i=>{var e={};b(i.process_person)||(e.person_profiles=i.process_person),b(i.xhr_headers)||(e.request_headers=i.xhr_headers),b(i.cookie_name)||(e.persistence_name=i.cookie_name),b(i.disable_cookie)||(e.disable_persistence=i.disable_cookie),b(i.store_google)||(e.save_campaign_params=i.store_google),b(i.verbose)||(e.debug=i.verbose);var t=G({},e,i);return H(i.property_blacklist)&&(b(i.property_denylist)?t.property_denylist=i.property_blacklist:H(i.property_denylist)?t.property_denylist=[...i.property_blacklist,...i.property_denylist]:x.error("Invalid value for property_denylist config: "+i.property_denylist)),t};class rc{constructor(){this.__forceAllowLocalhost=!1}get yr(){return this.__forceAllowLocalhost}set yr(e){x.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class si{get decideEndpointWasHit(){var e,t;return(e=(t=this.featureFlags)==null?void 0:t.hasLoadedFlags)!==null&&e!==void 0&&e}get flagsEndpointWasHit(){var e,t;return(e=(t=this.featureFlags)==null?void 0:t.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new rc,this.br=!1,this.version=qe.LIB_VERSION,this.wr=new xn,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=qs(),this.SentryIntegration=Ql,this.sentryIntegration=e=>(function(t,r){var n=Ao(t,r);return{name:Co,processEvent:s=>n(s)}})(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Sr=!1,this.Er=null,this.$r=null,this.kr=null,this.featureFlags=new Ou(this),this.toolbar=new tu(this),this.scrollManager=new Wu(this),this.pageViewManager=new wu(this),this.surveys=new qu(this),this.experiments=new oe(this),this.exceptions=new $u(this),this.rateLimiter=new Uu(this),this.requestRouter=new Ju(this),this.consent=new Gl(this),this.externalIntegrations=new tc(this),this.people={set:(e,t,r)=>{var n=Z(e)?{[e]:t}:e;this.setPersonProperties(n),r?.({})},set_once:(e,t,r)=>{var n=Z(e)?{[e]:t}:e;this.setPersonProperties(void 0,n),r?.({})}},this.on("eventCaptured",(e=>x.info('send "'+e?.event+'"',e)))}init(e,t,r){if(r&&r!==Et){var n,s=(n=nr[r])!==null&&n!==void 0?n:new si;return s._init(e,t,r),nr[r]=s,nr[Et][r]=s,s}return this._init(e,t,r)}_init(e,t,r){var n,s;if(t===void 0&&(t={}),b(e)||Ni(e))return x.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},t.debug=this.Pr(t.debug),this.Tr=t,this.Ir=[],t.person_profiles&&(this.$r=t.person_profiles),this.set_config(G({},qs(t.defaults),Us(t),{name:r,token:e})),this.config.on_xhr_error&&x.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=t.disable_compression?void 0:ze.GZipJS;var o=this.Rr();this.persistence=new ki(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new ki(k({},this.config,{persistence:"sessionStorage"}),o);var a=k({},this.persistence.props),l=k({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Cr=new zu((S=>this.Or(S)),this.config.request_queue_config),this.Fr=new Vu(this),this.__request_queue=[];var u=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(u||(this.sessionManager=new Ms(this),this.sessionPropsManager=new Ns(this,this.sessionManager,this.persistence)),new iu(this).startIfEnabledOrStop(),this.siteApps=new Yu(this),(n=this.siteApps)==null||n.init(),u||(this.sessionRecording=new js(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new jl(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new bu(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new mu(this),this.exceptionObserver=new Xl(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new Io(this,Yl),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new Jl(this),this.historyAutocapture.startIfEnabled(),qe.DEBUG=qe.DEBUG||this.config.debug,qe.DEBUG&&x.info("Starting in debug mode",{this:this,config:t,thisC:k({},this.config),p:a,s:l}),((s=t.bootstrap)==null?void 0:s.distinctID)!==void 0){var c,h,p=this.config.get_device_id(Qe()),d=(c=t.bootstrap)!=null&&c.isIdentifiedID?p:t.bootstrap.distinctID;this.persistence.set_property(Ue,(h=t.bootstrap)!=null&&h.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:t.bootstrap.distinctID,$device_id:d})}if(this.Mr()){var v,f,_=Object.keys(((v=t.bootstrap)==null?void 0:v.featureFlags)||{}).filter((S=>{var I;return!((I=t.bootstrap)==null||(I=I.featureFlags)==null||!I[S])})).reduce(((S,I)=>{var M;return S[I]=((M=t.bootstrap)==null||(M=M.featureFlags)==null?void 0:M[I])||!1,S}),{}),y=Object.keys(((f=t.bootstrap)==null?void 0:f.featureFlagPayloads)||{}).filter((S=>_[S])).reduce(((S,I)=>{var M,X;return(M=t.bootstrap)!=null&&(M=M.featureFlagPayloads)!=null&&M[I]&&(S[I]=(X=t.bootstrap)==null||(X=X.featureFlagPayloads)==null?void 0:X[I]),S}),{});this.featureFlags.receivedFeatureFlags({featureFlags:_,featureFlagPayloads:y})}if(u)this.register_once({distinct_id:Ht,$device_id:null},"");else if(!this.get_distinct_id()){var E=this.config.get_device_id(Qe());this.register_once({distinct_id:E,$device_id:E},""),this.persistence.set_property(Ue,"anonymous")}return K(g,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),t.segment?Zl(this,(()=>this.Ar())):this.Ar(),tt(this.config._onCapture)&&this.config._onCapture!==rn&&(x.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",(S=>this.config._onCapture(S.event,S)))),this.config.ip&&x.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}yi(e){var t,r,n,s,o,a,l,u;if(!w||!w.body)return x.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((()=>{this.yi(e)}),500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=R(e.supportedCompression,ze.GZipJS)?ze.GZipJS:R(e.supportedCompression,ze.Base64)?ze.Base64:void 0),(t=e.analytics)!=null&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.$r?this.$r:"identified_only"}),(r=this.siteApps)==null||r.onRemoteConfig(e),(n=this.sessionRecording)==null||n.onRemoteConfig(e),(s=this.autocapture)==null||s.onRemoteConfig(e),(o=this.heatmaps)==null||o.onRemoteConfig(e),this.surveys.onRemoteConfig(e),(a=this.webVitalsAutocapture)==null||a.onRemoteConfig(e),(l=this.exceptionObserver)==null||l.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(e)}Ar(){try{this.config.loaded(this)}catch(e){x.critical("`loaded` function failed",e)}this.jr(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Dr()}),1),new Hu(this).load(),this.featureFlags.flags()}jr(){var e;this.is_capturing()&&this.config.request_batching&&((e=this.Cr)==null||e.enable())}_dom_loaded(){this.is_capturing()&&it(this.__request_queue,(e=>this.Or(e))),this.__request_queue=[],this.jr()}_handle_unload(){var e,t;this.config.request_batching?(this.Lr()&&this.capture("$pageleave"),(e=this.Cr)==null||e.unload(),(t=this.Fr)==null||t.unload()):this.Lr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}mi(e){this.__loaded&&(la?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=Yr(e.url,{ip:this.config.ip?1:0}),e.headers=k({},this.config.request_headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(e.disableTransport=["sendBeacon"]),e.fetchOptions=e.fetchOptions||this.config.fetch_options,(t=>{var r,n,s,o=k({},t);o.timeout=o.timeout||6e4,o.url=Yr(o.url,{_:new Date().getTime().toString(),ver:qe.LIB_VERSION,compression:o.compression});var a=(r=o.transport)!==null&&r!==void 0?r:"fetch",l=Rr.filter((c=>!o.disableTransport||!c.transport||!o.disableTransport.includes(c.transport))),u=(n=(s=lo(l,(c=>c.transport===a)))==null?void 0:s.method)!==null&&n!==void 0?n:l[0].method;if(!u)throw new Error("No available transport method");u(o)})(k({},e,{callback:t=>{var r,n;this.rateLimiter.checkForLimiting(t),t.statusCode>=400&&((r=(n=this.config).on_request_error)==null||r.call(n,t)),e.callback==null||e.callback(t)}}))))}Or(e){this.Fr?this.Fr.retriableRequest(e):this.mi(e)}_execute_array(e){var t,r=[],n=[],s=[];it(e,(a=>{a&&(t=a[0],H(t)?s.push(a):tt(a)?a.call(this):H(a)&&t==="alias"?r.push(a):H(a)&&t.indexOf("capture")!==-1&&tt(this[t])?s.push(a):n.push(a))}));var o=function(a,l){it(a,(function(u){if(H(u[0])){var c=l;L(u,(function(h){c=c[h[0]].apply(c,h.slice(1))}))}else this[u[0]].apply(this,u.slice(1))}),l)};o(r,this),o(n,this),o(s,this)}Mr(){var e,t;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((t=this.config.bootstrap)==null?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,r){var n;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Cr){if(this.is_capturing())if(!b(e)&&Z(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s==null||!s.isRateLimited){t!=null&&t.$current_url&&!Z(t?.$current_url)&&(x.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),t==null||delete t.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,a=r?.timestamp||o,l=Qe(),u={uuid:l,event:e,properties:this.calculateEventProperties(e,t||{},a,l)};s&&(u.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),r?.$set&&(u.$set=r?.$set);var c,h=this.Nr(r?.$set_once);if(h&&(u.$set_once=h),(u=Sl(u,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,b(r?.timestamp)||(u.properties.$event_time_override_provided=!0,u.properties.$event_time_override_system_time=o),e===Or.DISMISSED||e===Or.SENT){var p=t?.[Fs.SURVEY_ID],d=t?.[Fs.SURVEY_ITERATION];c={id:p,current_iteration:d},localStorage.getItem(Rs(c))||localStorage.setItem(Rs(c),"true"),u.$set=k({},u.$set,{[Mu({id:p,current_iteration:d},e===Or.SENT?"responded":"dismissed")]:!0})}var v=k({},u.properties.$set,u.$set);if(xt(v)||this.setPersonPropertiesForFlags(v),!q(this.config.before_send)){var f=this.Ur(u);if(!f)return;u=f}this.wr.emit("eventCaptured",u);var _={method:"POST",url:(n=r?._url)!==null&&n!==void 0?n:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:u,compression:"best-available",batchKey:r?._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this.Or(_):this.Cr.enqueue(_),u}x.critical("This capture call is ignored due to client rate limiting.")}}else x.error("No event name provided to posthog.capture")}else x.uninitializedWarning("posthog.capture")}Li(e){return this.on("eventCaptured",(t=>e(t.event,t)))}calculateEventProperties(e,t,r,n,s){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return t;var o=s?void 0:this.persistence.remove_event_timer(e),a=k({},t);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(a.$cookieless_mode=!0),e==="$snapshot"){var l=k({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!Z(a.distinct_id)&&!Me(a.distinct_id)||Ni(a.distinct_id))&&x.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),a}var u,c=_u(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:h,windowId:p}=this.sessionManager.checkAndGetSessionAndWindowId(s,r.getTime());a.$session_id=h,a.$window_id=p}this.sessionPropsManager&&G(a,this.sessionPropsManager.getSessionProps());try{var d;this.sessionRecording&&G(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=(d=this.Fr)==null?void 0:d.length}catch(y){a.$sdk_debug_error_capturing_properties=String(y)}if(this.requestRouter.region===rr.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),u=e!=="$pageview"||s?e!=="$pageleave"||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(r):this.pageViewManager.doPageView(r,n),a=G(a,u),e==="$pageview"&&w&&(a.title=w.title),!b(o)){var v=r.getTime()-o;a.$duration=parseFloat((v/1e3).toFixed(3))}de&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?"bot":"browser"),(a=G({},c,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),H(this.config.property_denylist)?L(this.config.property_denylist,(function(y){delete a[y]})):x.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var f=this.config.sanitize_properties;f&&(x.error("sanitize_properties is deprecated. Use before_send instead"),a=f(a,e));var _=this.zr();return a.$process_person_profile=_,_&&!s&&this.Hr("_calculate_event_properties"),a}Nr(e){var t;if(!this.persistence||!this.zr()||this.br)return e;var r=this.persistence.get_initial_props(),n=(t=this.sessionPropsManager)==null?void 0:t.getSetOnceProps(),s=G({},r,n||{},e||{}),o=this.config.sanitize_properties;return o&&(x.error("sanitize_properties is deprecated. Use before_send instead"),s=o(s,"$set_once")),this.br=!0,xt(s)?void 0:s}register(e,t){var r;(r=this.persistence)==null||r.register(e,t)}register_once(e,t,r){var n;(n=this.persistence)==null||n.register_once(e,t,r)}register_for_session(e){var t;(t=this.sessionPersistence)==null||t.register(e)}unregister(e){var t;(t=this.persistence)==null||t.unregister(e)}unregister_for_session(e){var t;(t=this.sessionPersistence)==null||t.unregister(e)}Br(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch{return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t,r){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t,r)}getEarlyAccessFeatures(e,t,r){return t===void 0&&(t=!1),this.featureFlags.getEarlyAccessFeatures(e,t,r)}on(e,t){return this.wr.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var t,r;return(t=(r=this.sessionManager)==null?void 0:r.onSessionId(e))!==null&&t!==void 0?t:()=>{}}getSurveys(e,t){t===void 0&&(t=!1),this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e,t){t===void 0&&(t=!1),this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}displaySurvey(e,t){t===void 0&&(t=Lu),this.surveys.displaySurvey(e,t)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,t){return t===void 0&&(t=!1),this.surveys.canRenderSurveyAsync(e,t)}identify(e,t,r){if(!this.__loaded||!this.persistence)return x.uninitializedWarning("posthog.identify");if(Me(e)&&(e=e.toString(),x.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))x.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==Ht){if(this.Hr("posthog.identify")){var n=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var s=n;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}e!==n&&e!==this.get_property(Xt)&&(this.unregister(Xt),this.register({distinct_id:e}));var o=(this.persistence.get_property(Ue)||"anonymous")==="anonymous";e!==n&&o?(this.persistence.set_property(Ue,"identified"),this.setPersonPropertiesForFlags(k({},r||{},t||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:n},{$set:t||{},$set_once:r||{}}),this.kr=Is(e,t,r),this.featureFlags.setAnonymousDistinctId(n)):(t||r)&&this.setPersonProperties(t,r),e!==n&&(this.reloadFeatureFlags(),this.unregister(jr))}}else x.critical('The string "'+Ht+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else x.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,t){if((e||t)&&this.Hr("posthog.setPersonProperties")){var r=Is(this.get_distinct_id(),e,t);this.kr!==r?(this.setPersonPropertiesForFlags(k({},t||{},e||{})),this.capture("$set",{$set:e||{},$set_once:t||{}}),this.kr=r):x.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,t,r){if(e&&t){if(this.Hr("posthog.group")){var n=this.getGroups();n[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:k({},n,{[e]:t})}),r&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:r}),this.setGroupPropertiesForFlags({[e]:r})),n[e]===t||r||this.reloadFeatureFlags()}}else x.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,t){t===void 0&&(t=!0),this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,t){t===void 0&&(t=!0),this.Hr("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var t,r,n,s;if(x.info("reset"),!this.__loaded)return x.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");if(this.consent.reset(),(t=this.persistence)==null||t.clear(),(r=this.sessionPersistence)==null||r.clear(),this.surveys.reset(),this.featureFlags.reset(),(n=this.persistence)==null||n.set_property(Ue,"anonymous"),(s=this.sessionManager)==null||s.resetSessionId(),this.kr=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:Ht,$device_id:null},"");else{var a=this.config.get_device_id(Qe());this.register_once({distinct_id:a,$device_id:e?a:o},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,t;return(e=(t=this.sessionManager)==null?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:t,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),n=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+t);if(e!=null&&e.withTimestamp&&r){var s,o=(s=e.timestampLookBack)!==null&&s!==void 0?s:10;if(!r)return n;n+="?t="+Math.max(Math.floor((new Date().getTime()-r)/1e3)-o,0)}return n}alias(e,t){return e===this.get_property(uo)?(x.critical("Attempting to create alias for existing People user - aborting."),-2):this.Hr("posthog.alias")?(b(t)&&(t=this.get_distinct_id()),e!==t?(this.Br(Xt,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(x.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var t=k({},this.config);if(ae(e)){var r,n,s,o,a;G(this.config,Us(e));var l=this.Rr();(r=this.persistence)==null||r.update_config(this.config,t,l),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new ki(k({},this.config,{persistence:"sessionStorage"}),l);var u=this.Pr(this.config.debug);rt(u)&&(this.config.debug=u),rt(this.config.debug)&&(this.config.debug?(qe.DEBUG=!0,B.G()&&B.Y("ph_debug","true"),x.info("set_config",{config:e,oldConfig:t,newConfig:k({},this.config)})):(qe.DEBUG=!1,B.G()&&B.X("ph_debug"))),(n=this.sessionRecording)==null||n.startIfEnabledOrStop(),(s=this.autocapture)==null||s.startIfEnabled(),(o=this.heatmaps)==null||o.startIfEnabled(),this.surveys.loadIfEnabled(),this.qr(),(a=this.externalIntegrations)==null||a.startIfEnabledOrStop()}}startSessionRecording(e){var t=e===!0,r={sampling:t||!(e==null||!e.sampling),linked_flag:t||!(e==null||!e.linked_flag),url_trigger:t||!(e==null||!e.url_trigger),event_trigger:t||!(e==null||!e.event_trigger)};if(Object.values(r).some(Boolean)){var n,s,o,a,l;(n=this.sessionManager)==null||n.checkAndGetSessionAndWindowId(),r.sampling&&((s=this.sessionRecording)==null||s.overrideSampling()),r.linked_flag&&((o=this.sessionRecording)==null||o.overrideLinkedFlag()),r.url_trigger&&((a=this.sessionRecording)==null||a.overrideTrigger("url")),r.event_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,t){var r=new Error("PostHog syntheticException"),n=this.exceptions.buildProperties(e,{handled:!0,syntheticException:r});return this.exceptions.sendExceptionEvent(k({},n,t))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return(t=this.persistence)==null?void 0:t.props[e]}getSessionProperty(e){var t;return(t=this.sessionPersistence)==null?void 0:t.props[e]}toString(){var e,t=(e=this.config.name)!==null&&e!==void 0?e:Et;return t!==Et&&(t=Et+"."+t),t}_isIdentified(){var e,t;return((e=this.persistence)==null?void 0:e.get_property(Ue))==="identified"||((t=this.sessionPersistence)==null?void 0:t.get_property(Ue))==="identified"}zr(){var e,t;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&xt(this.getGroups())&&((e=this.persistence)==null||(e=e.props)==null||!e[Xt])&&((t=this.persistence)==null||(t=t.props)==null||!t[Ur]))}Lr(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.zr()||this.Hr("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Hr(e){return this.config.person_profiles==="never"?(x.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Br(Ur,!0),!0)}Rr(){if(this.config.cookieless_mode==="always")return!0;var e=this.consent.isOptedOut(),t=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||e&&!!t}qr(){var e,t,r,n,s=this.Rr();return((e=this.persistence)==null?void 0:e.$i)!==s&&((r=this.persistence)==null||r.set_disabled(s)),((t=this.sessionPersistence)==null?void 0:t.$i)!==s&&((n=this.sessionPersistence)==null||n.set_disabled(s)),s}opt_in_capturing(e){if(this.config.cookieless_mode!=="always"){var t,r;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(t=this.sessionManager)==null||t.destroy(),this.sessionManager=new Ms(this),this.persistence&&(this.sessionPropsManager=new Ns(this,this.sessionManager,this.persistence)),this.sessionRecording=new js(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.qr(),this.jr(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(b(e?.captureEventName)||e!=null&&e.captureEventName)&&this.capture((r=e?.captureEventName)!==null&&r!==void 0?r:"$opt_in",e?.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Dr()}else x.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var e,t;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.qr(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:Ht,$device_id:null}),(e=this.sessionManager)==null||e.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(t=this.sessionRecording)==null||t.stopRecording(),this.sessionRecording=void 0,this.Dr())):x.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var e=this.consent.consent;return e===He.GRANTED?"granted":e===He.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.qr()}_is_bot(){return ye?aa(ye,this.config.custom_blocked_useragents):void 0}Dr(){w&&(w.visibilityState==="visible"?this.Sr||(this.Sr=!0,this.capture("$pageview",{title:w.title},{send_instantly:!0}),this.Er&&(w.removeEventListener("visibilitychange",this.Er),this.Er=null)):this.Er||(this.Er=this.Dr.bind(this),K(w,"visibilitychange",this.Er)))}debug(e){e===!1?(g?.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(g?.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}L(){var e,t,r,n,s,o,a,l=this.Tr||{};return"advanced_disable_flags"in l?!!l.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(x.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(r="advanced_disable_decide",n=!1,s=x,o=(t="advanced_disable_flags")in(e=l)&&!b(e[t]),a=r in e&&!b(e[r]),o?e[t]:a?(s&&s.warn("Config field '"+r+"' is deprecated. Please use '"+t+"' instead. The old field will be removed in a future major version."),e[r]):n)}Ur(e){if(q(this.config.before_send))return e;var t=H(this.config.before_send)?this.config.before_send:[this.config.before_send],r=e;for(var n of t){if(r=n(r),q(r)){var s="Event '"+e.event+"' was rejected in beforeSend function";return Ja(e.event)?x.warn(s+". This can cause unexpected behavior."):x.info(s),null}r.properties&&!xt(r.properties)||x.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return r}getPageViewId(){var e;return(e=this.pageViewManager.Xt)==null?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,r){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(r)})}Pr(e){var t=rt(e)&&!e,r=B.G()&&B.J("ph_debug")==="true";return!t&&(!!r||e)}}(function(i,e){for(var t=0;t<e.length;t++)i.prototype[e[t]]=xl(i.prototype[e[t]])})(si,["identify"]);var Hs,Ii=(Hs=nr[Et]=new si,(function(){function i(){i.done||(i.done=!0,la=!1,L(nr,(function(e){e._dom_loaded()})))}w!=null&&w.addEventListener?w.readyState==="complete"?i():K(w,"DOMContentLoaded",i,{capture:!1}):g&&x.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")})(),Hs);const ic=!0,nc=async()=>{Ii.__loaded||(Ii.init("phc_WqSMXohypdxpBdGEFrJBIcTwzn0f1yKauzKY6UbxJHg",{api_host:"https://us.i.posthog.com",autocapture:!1,capture_pageview:!1}),Ii.__loaded=!0)},Wd=Object.freeze(Object.defineProperty({__proto__:null,load:nc,prerender:ic},Symbol.toStringTag,{value:"Module"})),sc="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='107'%20height='128'%20viewBox='0%200%20107%20128'%3e%3ctitle%3esvelte-logo%3c/title%3e%3cpath%20d='M94.157%2022.819c-10.4-14.885-30.94-19.297-45.792-9.835L22.282%2029.608A29.92%2029.92%200%200%200%208.764%2049.65a31.5%2031.5%200%200%200%203.108%2020.231%2030%2030%200%200%200-4.477%2011.183%2031.9%2031.9%200%200%200%205.448%2024.116c10.402%2014.887%2030.942%2019.297%2045.791%209.835l26.083-16.624A29.92%2029.92%200%200%200%2098.235%2078.35a31.53%2031.53%200%200%200-3.105-20.232%2030%2030%200%200%200%204.474-11.182%2031.88%2031.88%200%200%200-5.447-24.116'%20style='fill:%23ff3e00'/%3e%3cpath%20d='M45.817%20106.582a20.72%2020.72%200%200%201-22.237-8.243%2019.17%2019.17%200%200%201-3.277-14.503%2018%2018%200%200%201%20.624-2.435l.49-1.498%201.337.981a33.6%2033.6%200%200%200%2010.203%205.098l.97.294-.09.968a5.85%205.85%200%200%200%201.052%203.878%206.24%206.24%200%200%200%206.695%202.485%205.8%205.8%200%200%200%201.603-.704L69.27%2076.28a5.43%205.43%200%200%200%202.45-3.631%205.8%205.8%200%200%200-.987-4.371%206.24%206.24%200%200%200-6.698-2.487%205.7%205.7%200%200%200-1.6.704l-9.953%206.345a19%2019%200%200%201-5.296%202.326%2020.72%2020.72%200%200%201-22.237-8.243%2019.17%2019.17%200%200%201-3.277-14.502%2017.99%2017.99%200%200%201%208.13-12.052l26.081-16.623a19%2019%200%200%201%205.3-2.329%2020.72%2020.72%200%200%201%2022.237%208.243%2019.17%2019.17%200%200%201%203.277%2014.503%2018%2018%200%200%201-.624%202.435l-.49%201.498-1.337-.98a33.6%2033.6%200%200%200-10.203-5.1l-.97-.294.09-.968a5.86%205.86%200%200%200-1.052-3.878%206.24%206.24%200%200%200-6.696-2.485%205.8%205.8%200%200%200-1.602.704L37.73%2051.72a5.42%205.42%200%200%200-2.449%203.63%205.79%205.79%200%200%200%20.986%204.372%206.24%206.24%200%200%200%206.698%202.486%205.8%205.8%200%200%200%201.602-.704l9.952-6.342a19%2019%200%200%201%205.295-2.328%2020.72%2020.72%200%200%201%2022.237%208.242%2019.17%2019.17%200%200%201%203.277%2014.503%2018%2018%200%200%201-8.13%2012.053l-26.081%2016.622a19%2019%200%200%201-5.3%202.328'%20style='fill:%23fff'/%3e%3c/svg%3e",ua=typeof window<"u"?window:void 0;function oc(i){let e=i.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}class ac extends Map{#e=new Map;#t=V(0);#r=V(0);#i=Bn||-1;constructor(e){if(super(),e){for(var[t,r]of e)super.set(t,r);this.#r.v=super.size}}#n(e){return Bn===this.#i?V(e):Da(e)}has(e){var t=this.#e,r=t.get(e);if(r===void 0){var n=super.get(e);if(n!==void 0)r=this.#n(0),t.set(e,r);else return m(this.#t),!1}return m(r),!0}forEach(e,t){this.#s(),super.forEach(e,t)}get(e){var t=this.#e,r=t.get(e);if(r===void 0){var n=super.get(e);if(n!==void 0)r=this.#n(0),t.set(e,r);else{m(this.#t);return}}return m(r),super.get(e)}set(e,t){var r=this.#e,n=r.get(e),s=super.get(e),o=super.set(e,t),a=this.#t;if(n===void 0)n=this.#n(0),r.set(e,n),C(this.#r,super.size),Ut(a);else if(s!==t){Ut(n);var l=a.reactions===null?null:new Set(a.reactions),u=l===null||!n.reactions?.every(c=>l.has(c));u&&Ut(a)}return o}delete(e){var t=this.#e,r=t.get(e),n=super.delete(e);return r!==void 0&&(t.delete(e),C(this.#r,super.size),C(r,-1),Ut(this.#t)),n}clear(){if(super.size!==0){super.clear();var e=this.#e;C(this.#r,0);for(var t of e.values())C(t,-1);Ut(this.#t),e.clear()}}#s(){m(this.#t);var e=this.#e;if(this.#r.v!==e.size){for(var t of super.keys())if(!e.has(t)){var r=this.#n(0);e.set(t,r)}}for([,r]of this.#e)m(r)}keys(){return m(this.#t),super.keys()}values(){return this.#s(),super.values()}entries(){return this.#s(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return m(this.#r),super.size}}class lc{#e;#t;constructor(e,t){this.#e=e,this.#t=fr(t)}get current(){return this.#t(),this.#e()}}const uc=/\(.+\)/,cc=new Set(["all","print","screen","and","or","not","only"]);class hc extends lc{constructor(e,t){let r=uc.test(e)||e.split(/[\s,]+/).some(s=>cc.has(s.trim()))?e:`(${e})`;const n=window.matchMedia(r);super(()=>n.matches,s=>Ee(n,"change",s))}}let dc=class{#e;#t;constructor(e={}){const{window:t=ua,document:r=t?.document}=e;t!==void 0&&(this.#e=r,this.#t=fr(n=>{const s=Ee(t,"focusin",n),o=Ee(t,"focusout",n);return()=>{s(),o()}}))}get current(){return this.#t?.(),this.#e?oc(this.#e):null}};new dc;function fc(i,e){switch(i){case"post":hr(e);break;case"pre":Te(e);break}}function ca(i,e,t,r={}){const{lazy:n=!1}=r;let s=!n,o=Array.isArray(i)?[]:void 0;fc(e,()=>{const a=Array.isArray(i)?i.map(u=>u()):i();if(!s){s=!0,o=a;return}const l=Tt(()=>t(a,o));return o=a,l})}function Sn(i,e,t){ca(i,"post",e,t)}function pc(i,e,t){ca(i,"pre",e,t)}Sn.pre=pc;function gc(i,e){switch(i){case"local":return e.localStorage;case"session":return e.sessionStorage}}class ha{#e;#t;#r;#i;#n;#s=V(0);constructor(e,t,r={}){const{storage:n="local",serializer:s={serialize:JSON.stringify,deserialize:JSON.parse},syncTabs:o=!0,window:a=ua}=r;if(this.#e=t,this.#t=e,this.#r=s,a===void 0)return;const l=gc(n,a);this.#i=l;const u=l.getItem(e);u!==null?this.#e=this.#o(u):this.#l(t),o&&n==="local"&&(this.#n=fr(()=>Ee(a,"storage",this.#a)))}get current(){this.#n?.(),m(this.#s);const e=this.#o(this.#i?.getItem(this.#t))??this.#e,t=new WeakMap,r=n=>{if(n===null||n?.constructor.name==="Date"||typeof n!="object")return n;let s=t.get(n);return s||(s=new Proxy(n,{get:(o,a)=>(m(this.#s),r(Reflect.get(o,a))),set:(o,a,l)=>(C(this.#s,m(this.#s)+1),Reflect.set(o,a,l),this.#l(e),!0)}),t.set(n,s)),s};return r(e)}set current(e){this.#l(e),C(this.#s,m(this.#s)+1)}#a=e=>{e.key!==this.#t||e.newValue===null||(this.#e=this.#o(e.newValue),C(this.#s,m(this.#s)+1))};#o(e){try{return this.#r.deserialize(e)}catch(t){console.error(`Error when parsing "${e}" from persisted store "${this.#t}"`,t);return}}#l(e){try{e!=null&&this.#i?.setItem(this.#t,this.#r.serialize(e))}catch(t){console.error(`Error when writing value from persisted store "${this.#t}" to ${this.#i}`,t)}}}function zs(i){return i.filter(e=>e.length>0)}const da={getItem:i=>null,setItem:(i,e)=>{}},_r=typeof document<"u";function vc(i){return typeof i=="function"}function _c(i){return i!==null&&typeof i=="object"}const cr=Symbol("box"),kn=Symbol("is-writable");function mc(i){return _c(i)&&cr in i}function yc(i){return Y.isBox(i)&&kn in i}function Y(i){let e=V(ot(i));return{[cr]:!0,[kn]:!0,get current(){return m(e)},set current(t){C(e,t,!0)}}}function bc(i,e){const t=N(i);return e?{[cr]:!0,[kn]:!0,get current(){return m(t)},set current(r){e(r)}}:{[cr]:!0,get current(){return i()}}}function wc(i){return Y.isBox(i)?i:vc(i)?Y.with(i):Y(i)}function Ec(i){return Object.entries(i).reduce((e,[t,r])=>Y.isBox(r)?(Y.isWritableBox(r)?Object.defineProperty(e,t,{get(){return r.current},set(n){r.current=n}}):Object.defineProperty(e,t,{get(){return r.current}}),e):Object.assign(e,{[t]:r}),{})}function xc(i){return Y.isWritableBox(i)?{[cr]:!0,get current(){return i.current}}:i}Y.from=wc;Y.with=bc;Y.flatten=Ec;Y.readonly=xc;Y.isBox=mc;Y.isWritableBox=yc;function Sc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ci,Bs;function kc(){if(Bs)return Ci;Bs=1;var i=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,n=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",c="*",h="",p="comment",d="declaration";Ci=function(f,_){if(typeof f!="string")throw new TypeError("First argument must be a string");if(!f)return[];_=_||{};var y=1,E=1;function S(F){var P=F.match(e);P&&(y+=P.length);var W=F.lastIndexOf(l);E=~W?F.length-W:E+F.length}function I(){var F={line:y,column:E};return function(P){return P.position=new M(F),O(),P}}function M(F){this.start=F,this.end={line:y,column:E},this.source=_.source}M.prototype.content=f;function X(F){var P=new Error(_.source+":"+y+":"+E+": "+F);if(P.reason=F,P.filename=_.source,P.line=y,P.column=E,P.source=f,!_.silent)throw P}function J(F){var P=F.exec(f);if(P){var W=P[0];return S(W),f=f.slice(W.length),P}}function O(){J(t)}function ve(F){var P;for(F=F||[];P=se();)P!==!1&&F.push(P);return F}function se(){var F=I();if(!(u!=f.charAt(0)||c!=f.charAt(1))){for(var P=2;h!=f.charAt(P)&&(c!=f.charAt(P)||u!=f.charAt(P+1));)++P;if(P+=2,h===f.charAt(P-1))return X("End of comment missing");var W=f.slice(2,P-2);return E+=2,S(W),f=f.slice(P),E+=2,F({type:p,comment:W})}}function _e(){var F=I(),P=J(r);if(P){if(se(),!J(n))return X("property missing ':'");var W=J(s),Ve=F({type:d,property:v(P[0].replace(i,h)),value:W?v(W[0].replace(i,h)):h});return J(o),Ve}}function he(){var F=[];ve(F);for(var P;P=_e();)P!==!1&&(F.push(P),ve(F));return F}return O(),he()};function v(f){return f?f.replace(a,h):h}return Ci}var Pc=kc();const Tc=Sc(Pc);function Ic(i,e){let t=null;if(!i||typeof i!="string")return t;const r=Tc(i),n=typeof e=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:a}=s;n?e(o,a,s):a&&(t=t||{},t[o]=a)}),t}function Cc(i,e){const t=RegExp(i,"g");return r=>{if(typeof r!="string")throw new TypeError(`expected an argument of type string, but got ${typeof r}`);return r.match(t)?r.replace(t,e):r}}const Ac=Cc(/[A-Z]/,i=>`-${i.toLowerCase()}`);function $c(i){if(!i||typeof i!="object"||Array.isArray(i))throw new TypeError(`expected an argument of type object, but got ${typeof i}`);return Object.keys(i).map(e=>`${Ac(e)}: ${i[e]};`).join(`
`)}function Fc(i={}){return $c(i).replace(`
`," ")}const Rc={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};Fc(Rc);const Oc=typeof window<"u"?window:void 0;function Nc(i){let e=i.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}let Mc=class{#e;#t;constructor(e={}){const{window:t=Oc,document:r=t?.document}=e;t!==void 0&&(this.#e=r,this.#t=fr(n=>{const s=Ee(t,"focusin",n),o=Ee(t,"focusout",n);return()=>{s(),o()}}))}get current(){return this.#t?.(),this.#e?Nc(this.#e):null}};new Mc;const ft=Y("mode-watcher-mode"),pt=Y("mode-watcher-theme"),Dc=["dark","light","system"];function nn(i){return typeof i!="string"?!1:Dc.includes(i)}class Lc{#e="system";#t=_r?localStorage:da;#r=this.#t.getItem(ft.current);#i=nn(this.#r)?this.#r:this.#e;#n=V(ot(this.#s()));#s(e=this.#i){return new ha(ft.current,e,{serializer:{serialize:t=>t,deserialize:t=>nn(t)?t:this.#e}})}constructor(){dn(()=>Sn.pre(()=>ft.current,(e,t)=>{const r=m(this.#n).current;C(this.#n,this.#s(r),!0),t&&localStorage.removeItem(t)}))}get current(){return m(this.#n).current}set current(e){m(this.#n).current=e}}class jc{#e=void 0;#t=!0;#r=V(ot(this.#e));#i=typeof window<"u"&&typeof window.matchMedia=="function"?new hc("prefers-color-scheme: light"):{current:!1};query(){_r&&C(this.#r,this.#i.current?"light":"dark",!0)}tracking(e){this.#t=e}constructor(){dn(()=>{Te(()=>{this.#t&&this.query()})}),this.query=this.query.bind(this),this.tracking=this.tracking.bind(this)}get current(){return m(this.#r)}}const Xr=new Lc,sn=new jc;class qc{#e=_r?localStorage:da;#t=this.#e.getItem(pt.current);#r=this.#t===null||this.#t===void 0?"":this.#t;#i=V(ot(this.#n()));#n(e=this.#r){return new ha(pt.current,e,{serializer:{serialize:t=>typeof t!="string"?"":t,deserialize:t=>t}})}constructor(){dn(()=>Sn.pre(()=>pt.current,(e,t)=>{const r=m(this.#i).current;C(this.#i,this.#n(r),!0),t&&localStorage.removeItem(t)}))}get current(){return m(this.#i).current}set current(e){m(this.#i).current=e}}const Nr=new qc;let Vs,Ws,Gs=!1,Yt=null;function Uc(){return Yt||(Yt=document.createElement("style"),Yt.appendChild(document.createTextNode(`* {
		-webkit-transition: none !important;
		-moz-transition: none !important;
		-o-transition: none !important;
		-ms-transition: none !important;
		transition: none !important;
	}`)),Yt)}function fa(i,e=!1){if(typeof document>"u")return;if(!Gs){Gs=!0,i();return}if(typeof window<"u"&&window.__vitest_worker__){i();return}clearTimeout(Vs),clearTimeout(Ws);const r=Uc(),n=()=>document.head.appendChild(r),s=()=>{r.parentNode&&document.head.removeChild(r)};function o(){i(),window.requestAnimationFrame(s)}if(typeof window.requestAnimationFrame<"u"){n(),e?o():window.requestAnimationFrame(()=>{o()});return}n(),Vs=window.setTimeout(()=>{i(),Ws=window.setTimeout(s,16)},16)}const et=Y(void 0),Jr=Y(!0),Zr=Y(!1),on=Y([]),an=Y([]);function Hc(){const i=N(()=>{if(!_r)return;const e=Xr.current==="system"?sn.current:Xr.current,t=zs(on.current),r=zs(an.current);function n(){const s=document.documentElement,o=document.querySelector('meta[name="theme-color"]');e==="light"?(t.length&&s.classList.remove(...t),r.length&&s.classList.add(...r),s.style.colorScheme="light",o&&et.current&&o.setAttribute("content",et.current.light)):(r.length&&s.classList.remove(...r),t.length&&s.classList.add(...t),s.style.colorScheme="dark",o&&et.current&&o.setAttribute("content",et.current.dark))}return Jr.current?fa(n,Zr.current):n(),e});return{get current(){return m(i)}}}function zc(){const i=N(()=>{if(Nr.current,!_r)return;function e(){document.documentElement.setAttribute("data-theme",Nr.current)}return Jr.current?fa(e,Tt(()=>Zr.current)):e(),Nr.current});return{get current(){return m(i)}}}const pa=Hc(),Bc=zc();function Vc(){Xr.current=pa.current==="dark"?"light":"dark"}function Wc(i){Xr.current=i}function Gc(i){Nr.current=i}function Kc({defaultMode:i="system",themeColors:e,darkClassNames:t=["dark"],lightClassNames:r=[],defaultTheme:n="",modeStorageKey:s="mode-watcher-mode",themeStorageKey:o="mode-watcher-theme"}){const a=document.documentElement,l=localStorage.getItem(s)??i,u=localStorage.getItem(o)??n,c=l==="light"||l==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(c?(t.length&&a.classList.remove(...t.filter(Boolean)),r.length&&a.classList.add(...r.filter(Boolean))):(r.length&&a.classList.remove(...r.filter(Boolean)),t.length&&a.classList.add(...t.filter(Boolean))),a.style.colorScheme=c?"light":"dark",e){const h=document.querySelector('meta[name="theme-color"]');h&&h.setAttribute("content",l==="light"?e.light:e.dark)}u&&(a.setAttribute("data-theme",u),localStorage.setItem(o,u)),localStorage.setItem(s,l)}var Yc=ne('<meta name="theme-color"/>');function Xc(i,e){re(e,!0);var t=Q(),r=j(t);{var n=s=>{var o=Yc();Lt(()=>ei(o,"content",e.themeColors.dark)),$(s,o)};Le(r,s=>{e.themeColors&&s(n)})}$(i,t),ie()}var Jc=ne('<meta name="theme-color"/>'),Zc=ne("<!> <!>",1);function Qc(i,e){re(e,!0);let t=A(e,"trueNonce",3,"");Zs(r=>{var n=Zc(),s=j(n);{var o=l=>{var u=Jc();Lt(()=>ei(u,"content",e.themeColors.dark)),$(l,u)};Le(s,l=>{e.themeColors&&l(o)})}var a=we(s,2);Ga(a,()=>`<script${t()?` nonce=${t()}`:""}>(`+Kc.toString()+")("+JSON.stringify(e.initConfig)+");<\/script>"),$(r,n)}),ie()}function eh(i,e){re(e,!0);let t=A(e,"track",3,!0),r=A(e,"defaultMode",3,"system"),n=A(e,"disableTransitions",3,!0),s=A(e,"darkClassNames",19,()=>["dark"]),o=A(e,"lightClassNames",19,()=>[]),a=A(e,"defaultTheme",3,""),l=A(e,"nonce",3,""),u=A(e,"themeStorageKey",3,"mode-watcher-theme"),c=A(e,"modeStorageKey",3,"mode-watcher-mode"),h=A(e,"disableHeadScriptInjection",3,!1),p=A(e,"synchronousModeChanges",3,!1);ft.current=c(),pt.current=u(),on.current=s(),an.current=o(),Jr.current=n(),et.current=e.themeColors,Zr.current=p(),Te(()=>{Zr.current=p()}),Te(()=>{Jr.current=n()}),Te(()=>{et.current=e.themeColors}),Te(()=>{on.current=s()}),Te(()=>{an.current=o()}),Te(()=>{ft.current=c()}),Te(()=>{pt.current=u()}),Te(()=>{pa.current,ft.current,pt.current,Bc.current}),Ua(()=>{sn.tracking(t()),sn.query();const S=localStorage.getItem(ft.current);Wc(nn(S)?S:r());const I=localStorage.getItem(pt.current);Gc(I||a())});const d={defaultMode:r(),themeColors:e.themeColors,darkClassNames:s(),lightClassNames:o(),defaultTheme:a(),modeStorageKey:c(),themeStorageKey:u()},v=N(()=>typeof window>"u"?l():"");var f=Q(),_=j(f);{var y=S=>{Xc(S,{get themeColors(){return et.current}})},E=S=>{Qc(S,{get trueNonce(){return m(v)},get initConfig(){return d},get themeColors(){return et.current}})};Le(_,S=>{h()?S(y):S(E,!1)})}$(i,f),ie()}function th(i){return typeof i=="function"}function mr(i){return i!==null&&typeof i=="object"}const rh=["string","number","bigint","boolean"];function ln(i){return i==null||rh.includes(typeof i)?!0:Array.isArray(i)?i.every(e=>ln(e)):typeof i=="object"?Object.getPrototypeOf(i)===Object.prototype:!1}const Ot=Symbol("box"),oi=Symbol("is-writable");function U(i,e){const t=N(i);return e?{[Ot]:!0,[oi]:!0,get current(){return m(t)},set current(r){e(r)}}:{[Ot]:!0,get current(){return i()}}}function yr(i){return mr(i)&&Ot in i}function Pn(i){return yr(i)&&oi in i}function ih(i){return yr(i)?i:th(i)?U(i):Ne(i)}function nh(i){return Object.entries(i).reduce((e,[t,r])=>yr(r)?(Pn(r)?Object.defineProperty(e,t,{get(){return r.current},set(n){r.current=n}}):Object.defineProperty(e,t,{get(){return r.current}}),e):Object.assign(e,{[t]:r}),{})}function sh(i){return Pn(i)?{[Ot]:!0,get current(){return i.current}}:i}function Ne(i){let e=V(ot(i));return{[Ot]:!0,[oi]:!0,get current(){return m(e)},set current(t){C(e,t,!0)}}}function mt(i){let e=V(ot(i));return{[Ot]:!0,[oi]:!0,get current(){return m(e)},set current(t){C(e,t,!0)}}}mt.from=ih;mt.with=U;mt.flatten=nh;mt.readonly=sh;mt.isBox=yr;mt.isWritableBox=Pn;function oh(...i){return function(e){for(const t of i)if(t){if(e.defaultPrevented)return;typeof t=="function"?t.call(this,e):t.current?.call(this,e)}}}const ah=/\d/,lh=["-","_","/","."];function uh(i=""){if(!ah.test(i))return i!==i.toLowerCase()}function ch(i){const e=[];let t="",r,n;for(const s of i){const o=lh.includes(s);if(o===!0){e.push(t),t="",r=void 0;continue}const a=uh(s);if(n===!1){if(r===!1&&a===!0){e.push(t),t=s,r=a;continue}if(r===!0&&a===!1&&t.length>1){const l=t.at(-1);e.push(t.slice(0,Math.max(0,t.length-1))),t=l+s,r=a;continue}}t+=s,r=a,n=o}return e.push(t),e}function ga(i){return i?ch(i).map(e=>dh(e)).join(""):""}function hh(i){return fh(ga(i||""))}function dh(i){return i?i[0].toUpperCase()+i.slice(1):""}function fh(i){return i?i[0].toLowerCase()+i.slice(1):""}function Ar(i){if(!i)return{};const e={};function t(r,n){if(r.startsWith("-moz-")||r.startsWith("-webkit-")||r.startsWith("-ms-")||r.startsWith("-o-")){e[ga(r)]=n;return}if(r.startsWith("--")){e[r]=n;return}e[hh(r)]=n}return Ic(i,t),e}function va(...i){return(...e)=>{for(const t of i)typeof t=="function"&&t(...e)}}function ph(i,e){const t=RegExp(i,"g");return r=>{if(typeof r!="string")throw new TypeError(`expected an argument of type string, but got ${typeof r}`);return r.match(t)?r.replace(t,e):r}}const gh=ph(/[A-Z]/,i=>`-${i.toLowerCase()}`);function vh(i){if(!i||typeof i!="object"||Array.isArray(i))throw new TypeError(`expected an argument of type object, but got ${typeof i}`);return Object.keys(i).map(e=>`${gh(e)}: ${i[e]};`).join(`
`)}function _h(i={}){return vh(i).replace(`
`," ")}const mh=["onabort","onanimationcancel","onanimationend","onanimationiteration","onanimationstart","onauxclick","onbeforeinput","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncompositionend","oncompositionstart","oncompositionupdate","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","onformdata","ongotpointercapture","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onselectionchange","onselectstart","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ontransitioncancel","ontransitionend","ontransitionrun","ontransitionstart","onvolumechange","onwaiting","onwebkitanimationend","onwebkitanimationiteration","onwebkitanimationstart","onwebkittransitionend","onwheel"],yh=new Set(mh);function bh(i){return yh.has(i)}function Nt(...i){const e={...i[0]};for(let t=1;t<i.length;t++){const r=i[t];if(r){for(const n of Object.keys(r)){const s=e[n],o=r[n],a=typeof s=="function",l=typeof o=="function";if(a&&bh(n)){const u=s,c=o;e[n]=oh(u,c)}else if(a&&l)e[n]=va(s,o);else if(n==="class"){const u=ln(s),c=ln(o);u&&c?e[n]=hi(s,o):u?e[n]=hi(s):c&&(e[n]=hi(o))}else if(n==="style"){const u=typeof s=="object",c=typeof o=="object",h=typeof s=="string",p=typeof o=="string";if(u&&c)e[n]={...s,...o};else if(u&&p){const d=Ar(o);e[n]={...s,...d}}else if(h&&c){const d=Ar(s);e[n]={...d,...o}}else if(h&&p){const d=Ar(s),v=Ar(o);e[n]={...d,...v}}else u?e[n]=s:c?e[n]=o:h?e[n]=s:p&&(e[n]=o)}else e[n]=o!==void 0?o:s}for(const n of Object.getOwnPropertySymbols(r)){const s=e[n],o=r[n];e[n]=o!==void 0?o:s}}}return typeof e.style=="object"&&(e.style=_h(e.style).replaceAll(`
`," ")),e.hidden===!1&&(e.hidden=void 0,delete e.hidden),e.disabled===!1&&(e.disabled=void 0,delete e.disabled),e}const wh=typeof window<"u"?window:void 0;function Eh(i){let e=i.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}class xh{#e;#t;constructor(e={}){const{window:t=wh,document:r=t?.document}=e;t!==void 0&&(this.#e=r,this.#t=fr(n=>{const s=Ee(t,"focusin",n),o=Ee(t,"focusout",n);return()=>{s(),o()}}))}get current(){return this.#t?.(),this.#e?Eh(this.#e):null}}new xh;function Sh(i){return typeof i=="function"}function kh(i,e){if(Sh(i)){const r=i();return r===void 0?e:r}return i===void 0?e:i}class Tn{#e;#t;constructor(e){this.#e=e,this.#t=Symbol(e)}get key(){return this.#t}exists(){return La(this.#t)}get(){const e=Vn(this.#t);if(e===void 0)throw new Error(`Context "${this.#e}" not found`);return e}getOr(e){const t=Vn(this.#t);return t===void 0?e:t}set(e){return ja(this.#t,e)}}function Ph(i,e){let t=V(null);const r=N(()=>kh(e,250));function n(...s){if(m(t))m(t).timeout&&clearTimeout(m(t).timeout);else{let o,a;const l=new Promise((u,c)=>{o=u,a=c});C(t,{timeout:null,runner:null,promise:l,resolve:o,reject:a},!0)}return m(t).runner=async()=>{if(!m(t))return;const o=m(t);C(t,null);try{o.resolve(await i.apply(this,s))}catch(a){o.reject(a)}},m(t).timeout=setTimeout(m(t).runner,m(r)),m(t).promise}return n.cancel=async()=>{(!m(t)||m(t).timeout===null)&&(await new Promise(s=>setTimeout(s,0)),!m(t)||m(t).timeout===null)||(clearTimeout(m(t).timeout),m(t).reject("Cancelled"),C(t,null))},n.runScheduledNow=async()=>{(!m(t)||!m(t).timeout)&&(await new Promise(s=>setTimeout(s,0)),!m(t)||!m(t).timeout)||(clearTimeout(m(t).timeout),m(t).timeout=null,await m(t).runner?.())},Object.defineProperty(n,"pending",{enumerable:!0,get(){return!!m(t)?.timeout}}),n}function Th(i,e){switch(i){case"post":hr(e);break;case"pre":Te(e);break}}function _a(i,e,t,r={}){const{lazy:n=!1}=r;let s=!n,o=Array.isArray(i)?[]:void 0;Th(e,()=>{const a=Array.isArray(i)?i.map(u=>u()):i();if(!s){s=!0,o=a;return}const l=Tt(()=>t(a,o));return o=a,l})}function Mt(i,e,t){_a(i,"post",e,t)}function Ih(i,e,t){_a(i,"pre",e,t)}Mt.pre=Ih;class Ch{#e=()=>{};#t=N(()=>this.#e());constructor(e,t){let r;t!==void 0&&(r=t),this.#e=()=>{try{return r}finally{r=e()}}}get current(){return m(this.#t)}}function Ah(i){hr(()=>Tt(()=>i()))}function $h(i){qa().then(i)}const Fh=1,Rh=9,Oh=11;function Nh(i){return mr(i)&&i.nodeType===Fh&&typeof i.nodeName=="string"}function ma(i){return mr(i)&&i.nodeType===Rh}function Mh(i){return mr(i)&&i.constructor?.name==="VisualViewport"}function Dh(i){return mr(i)&&i.nodeType!==void 0}function Lh(i){return Dh(i)&&i.nodeType===Oh&&"host"in i}function ya(i){return ma(i)?i:Mh(i)?i.document:i?.ownerDocument??document}function ba(i){return Lh(i)?ba(i.host):ma(i)?i.defaultView??window:Nh(i)?i.ownerDocument?.defaultView??window:window}function jh(i){let e=i.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}class qh{element;#e=N(()=>this.element.current?this.element.current.getRootNode()??document:document);get root(){return m(this.#e)}set root(e){C(this.#e,e)}constructor(e){typeof e=="function"?this.element=U(e):this.element=e}getDocument=()=>ya(this.root);getWindow=()=>this.getDocument().defaultView??window;getActiveElement=()=>jh(this.root);isActiveElement=e=>e===this.getActiveElement();getElementById(e){return this.root.getElementById(e)}querySelector=e=>this.root?this.root.querySelector(e):null;querySelectorAll=e=>this.root?this.root.querySelectorAll(e):[];setTimeout=(e,t)=>this.getWindow().setTimeout(e,t);clearTimeout=e=>this.getWindow().clearTimeout(e)}function Dt(i,e){return{[Wa()]:t=>yr(i)?(i.current=t,Tt(()=>e?.(t)),()=>{"isConnected"in t&&t.isConnected||(i.current=null,e?.(null))}):(i(t),Tt(()=>e?.(t)),()=>{"isConnected"in t&&t.isConnected||(i(null),e?.(null))})}}function Uh(i){return i?"open":"closed"}class Hh{#e;#t;attrs;constructor(e){this.#e=e.getVariant?e.getVariant():null,this.#t=this.#e?`data-${this.#e}-`:`data-${e.component}-`,this.getAttr=this.getAttr.bind(this),this.selector=this.selector.bind(this),this.attrs=Object.fromEntries(e.parts.map(t=>[t,this.getAttr(t)]))}getAttr(e,t){return t?`data-${t}-${e}`:`${this.#t}${e}`}selector(e,t){return`[${this.getAttr(e,t)}]`}}function zh(i){const e=new Hh(i);return{...e.attrs,selector:e.selector,getAttr:e.getAttr}}const un="ArrowDown",In="ArrowLeft",Cn="ArrowRight",cn="ArrowUp",Bh="End",Vh="Home";function Wh(i){return window.getComputedStyle(i).getPropertyValue("direction")}function Gh(i="ltr",e="horizontal"){return{horizontal:i==="rtl"?In:Cn,vertical:un}[e]}function Kh(i="ltr",e="horizontal"){return{horizontal:i==="rtl"?Cn:In,vertical:cn}[e]}function Yh(i="ltr",e="horizontal"){return["ltr","rtl"].includes(i)||(i="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:Gh(i,e),prevKey:Kh(i,e)}}function Xh(i){return i instanceof HTMLElement}class Jh{#e;#t=mt(null);constructor(e){this.#e=e}getCandidateNodes(){return this.#e.rootNode.current?this.#e.candidateSelector?Array.from(this.#e.rootNode.current.querySelectorAll(this.#e.candidateSelector)):this.#e.candidateAttr?Array.from(this.#e.rootNode.current.querySelectorAll(`[${this.#e.candidateAttr}]:not([data-disabled])`)):[]:[]}focusFirstCandidate(){const e=this.getCandidateNodes();e.length&&e[0]?.focus()}handleKeydown(e,t,r=!1){const n=this.#e.rootNode.current;if(!n||!e)return;const s=this.getCandidateNodes();if(!s.length)return;const o=s.indexOf(e),a=Wh(n),{nextKey:l,prevKey:u}=Yh(a,this.#e.orientation.current),c=this.#e.loop.current,h={[l]:o+1,[u]:o-1,[Vh]:0,[Bh]:s.length-1};if(r){const v=l===un?Cn:un,f=u===cn?In:cn;h[v]=o+1,h[f]=o-1}let p=h[t.key];if(p===void 0)return;t.preventDefault(),p<0&&c?p=s.length-1:p===s.length&&c&&(p=0);const d=s[p];if(d)return d.focus(),this.#t.current=d.id,this.#e.onCandidateFocus?.(d),d}getTabIndex(e){const t=this.getCandidateNodes(),r=this.#t.current!==null;return e&&!r&&t[0]===e?(this.#t.current=e.id,0):e?.id===this.#t.current?0:-1}setCurrentTabStopId(e){this.#t.current=e}focusCurrentTabStop(){const e=this.#t.current;if(!e)return;const t=this.#e.rootNode.current?.querySelector(`#${e}`);!t||!Xh(t)||t.focus()}}function Ie(){}function br(i,e){return`bits-${i}`}class Zh{state;#e;constructor(e,t){this.state=Ne(e),this.#e=t,this.dispatch=this.dispatch.bind(this)}#t(e){return this.#e[this.state.current][e]??this.state.current}dispatch(e){this.state.current=this.#t(e)}}const Qh={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}};class ed{opts;#e=V("none");get prevAnimationNameState(){return m(this.#e)}set prevAnimationNameState(e){C(this.#e,e,!0)}#t=V(ot({}));get styles(){return m(this.#t)}set styles(e){C(this.#t,e,!0)}initialStatus;previousPresent;machine;present;constructor(e){this.opts=e,this.present=this.opts.open,this.initialStatus=e.open.current?"mounted":"unmounted",this.previousPresent=new Ch(()=>this.present.current),this.machine=new Zh(this.initialStatus,Qh),this.handleAnimationEnd=this.handleAnimationEnd.bind(this),this.handleAnimationStart=this.handleAnimationStart.bind(this),td(this),rd(this),id(this)}handleAnimationEnd(e){if(!this.opts.ref.current)return;const t=Qr(this.opts.ref.current),r=t.includes(e.animationName)||t==="none";e.target===this.opts.ref.current&&r&&this.machine.dispatch("ANIMATION_END")}handleAnimationStart(e){this.opts.ref.current&&e.target===this.opts.ref.current&&(this.prevAnimationNameState=Qr(this.opts.ref.current))}#r=N(()=>["mounted","unmountSuspended"].includes(this.machine.state.current));get isPresent(){return m(this.#r)}set isPresent(e){C(this.#r,e)}}function td(i){Mt(()=>i.present.current,()=>{if(!i.opts.ref.current||!(i.present.current!==i.previousPresent.current))return;const t=i.prevAnimationNameState,r=Qr(i.opts.ref.current);if(i.present.current)i.machine.dispatch("MOUNT");else if(r==="none"||i.styles.display==="none")i.machine.dispatch("UNMOUNT");else{const n=t!==r;i.previousPresent.current&&n?i.machine.dispatch("ANIMATION_OUT"):i.machine.dispatch("UNMOUNT")}})}function rd(i){Mt(()=>i.machine.state.current,()=>{if(!i.opts.ref.current)return;const e=Qr(i.opts.ref.current);i.prevAnimationNameState=i.machine.state.current==="mounted"?e:"none"})}function id(i){Mt(()=>i.opts.ref.current,()=>{if(i.opts.ref.current)return i.styles=getComputedStyle(i.opts.ref.current),va(Ee(i.opts.ref.current,"animationstart",i.handleAnimationStart),Ee(i.opts.ref.current,"animationcancel",i.handleAnimationEnd),Ee(i.opts.ref.current,"animationend",i.handleAnimationEnd))})}function Qr(i){return i&&getComputedStyle(i).animationName||"none"}function nd(i,e){re(e,!0);const t=new ed({open:U(()=>e.open),ref:e.ref});var r=Q(),n=j(r);{var s=o=>{var a=Q(),l=j(a);ce(l,()=>e.presence??De,()=>({present:t.isPresent})),$(o,a)};Le(n,o=>{(e.forceMount||e.open||t.isPresent)&&o(s)})}$(i,r),ie()}class wa{eventName;options;constructor(e,t={bubbles:!0,cancelable:!0}){this.eventName=e,this.options=t}createEvent(e){return new CustomEvent(this.eventName,{...this.options,detail:e})}dispatch(e,t){const r=this.createEvent(t);return e.dispatchEvent(r),r}listen(e,t,r){const n=s=>{t(s)};return Ee(e,this.eventName,n,r)}}function Ks(i){const e=[],r=ya(i).createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}const sd={afterMs:1e4,onChange:Ie};function od(i,e){const{afterMs:t,onChange:r,getWindow:n}={...sd,...e};let s=null,o=V(ot(i));function a(){return n().setTimeout(()=>{C(o,i,!0),r?.(i)},t)}return hr(()=>()=>{s&&n().clearTimeout(s)}),U(()=>m(o),l=>{C(o,l,!0),r?.(l),s&&n().clearTimeout(s),s=a()})}globalThis.bitsIdCounter??={current:0};function ad(i="bits"){return globalThis.bitsIdCounter.current++,`${i}-${globalThis.bitsIdCounter.current}`}function hn(i,e){re(e,!0);let t=A(e,"mounted",15,!1),r=A(e,"onMountedChange",3,Ie);Ah(()=>(t(!0),r()(!0),()=>{t(!1),r()(!1)})),ie()}class ld{#e;#t;constructor(e,t){this.#e=e,this.#t=t,this.handler=this.handler.bind(this),hr(this.handler)}handler(){let e=0;const t=this.#e();if(!t)return;const r=new ResizeObserver(()=>{cancelAnimationFrame(e),e=window.requestAnimationFrame(this.#t)});return r.observe(t),()=>{window.cancelAnimationFrame(e),r.unobserve(t)}}}const st=zh({component:"navigation-menu",parts:["root","sub","item","list","trigger","content","link","viewport","menu","indicator"]}),ai=new Tn("NavigationMenu.Root"),Ea=new Tn("NavigationMenu.Item"),xa=new Tn("NavigationMenu.List");class An{static create(e){return ai.set(new An(e))}opts;indicatorTrackRef=Ne(null);viewportRef=Ne(null);viewportContent=new ac;onTriggerEnter;onTriggerLeave=Ie;onContentEnter=Ie;onContentLeave=Ie;onItemSelect;onItemDismiss;activeItem=null;prevActiveItem=null;constructor(e){this.opts=e,this.onTriggerEnter=e.onTriggerEnter,this.onTriggerLeave=e.onTriggerLeave??Ie,this.onContentEnter=e.onContentEnter??Ie,this.onContentLeave=e.onContentLeave??Ie,this.onItemDismiss=e.onItemDismiss,this.onItemSelect=e.onItemSelect}setActiveItem=e=>{this.prevActiveItem=this.activeItem,this.activeItem=e}}class $n{static create(e){return new $n(e)}opts;attachment;provider;previousValue=Ne("");isDelaySkipped;#e=N(()=>this.opts?.value?.current!==""||this.isDelaySkipped.current?100:this.opts.delayDuration.current);constructor(e){this.opts=e,this.attachment=Dt(this.opts.ref),this.isDelaySkipped=od(!1,{afterMs:this.opts.skipDelayDuration.current,getWindow:()=>ba(e.ref.current)}),this.provider=An.create({value:this.opts.value,previousValue:this.previousValue,dir:this.opts.dir,orientation:this.opts.orientation,rootNavigationMenuRef:this.opts.ref,isRootMenu:!0,onTriggerEnter:(t,r)=>{this.#r(t,r)},onTriggerLeave:this.#i,onContentEnter:this.#n,onContentLeave:this.#s,onItemSelect:this.#a,onItemDismiss:this.#o})}#t=Ph((e,t)=>{typeof e=="string"&&this.setValue(e,t)},()=>m(this.#e));#r=(e,t)=>{this.#t(e,t)};#i=()=>{this.isDelaySkipped.current=!1,this.#t("",null)};#n=()=>{this.#t(void 0,null)};#s=()=>{this.provider.activeItem&&this.provider.activeItem.opts.openOnHover.current===!1||this.#t("",null)};#a=(e,t)=>{this.setValue(e,t)};#o=()=>{this.setValue("",null)};setValue=(e,t)=>{this.previousValue.current=this.opts.value.current,this.opts.value.current=e,this.provider.setActiveItem(t),e===""&&(this.previousValue.current="")};#l=N(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,dir:this.opts.dir.current,[st.root]:"",[st.menu]:"",...this.attachment}));get props(){return m(this.#l)}set props(e){C(this.#l,e)}}class Fn{static create(e){return xa.set(new Fn(e,ai.get()))}wrapperId=Ne(ad());wrapperRef=Ne(null);opts;context;attachment;wrapperAttachment=Dt(this.wrapperRef,e=>this.context.indicatorTrackRef.current=e);#e=V([]);get listTriggers(){return m(this.#e)}set listTriggers(e){C(this.#e,e)}rovingFocusGroup;#t=V(!1);get wrapperMounted(){return m(this.#t)}set wrapperMounted(e){C(this.#t,e,!0)}constructor(e,t){this.opts=e,this.context=t,this.attachment=Dt(this.opts.ref),this.rovingFocusGroup=new Jh({rootNode:e.ref,candidateSelector:`${st.selector("trigger")}:not([data-disabled]), ${st.selector("link")}:not([data-disabled])`,loop:U(()=>!1),orientation:this.context.opts.orientation})}registerTrigger(e){return e&&this.listTriggers.push(e),()=>{this.listTriggers=this.listTriggers.filter(t=>t.id!==e.id)}}#r=N(()=>({id:this.wrapperId.current,...this.wrapperAttachment}));get wrapperProps(){return m(this.#r)}set wrapperProps(e){C(this.#r,e)}#i=N(()=>({id:this.opts.id.current,"data-orientation":this.context.opts.orientation.current,[st.list]:"",...this.attachment}));get props(){return m(this.#i)}set props(e){C(this.#i,e)}}class Rn{static create(e){return Ea.set(new Rn(e,xa.get()))}opts;attachment;listContext;#e=V(null);get contentNode(){return m(this.#e)}set contentNode(e){C(this.#e,e,!0)}#t=V(null);get triggerNode(){return m(this.#t)}set triggerNode(e){C(this.#t,e,!0)}#r=V(null);get focusProxyNode(){return m(this.#r)}set focusProxyNode(e){C(this.#r,e,!0)}restoreContentTabOrder=Ie;wasEscapeClose=!1;#i=N(()=>this.contentNode?.id);get contentId(){return m(this.#i)}set contentId(e){C(this.#i,e)}#n=N(()=>this.triggerNode?.id);get triggerId(){return m(this.#n)}set triggerId(e){C(this.#n,e)}contentChildren=Ne(void 0);contentChild=Ne(void 0);contentProps=Ne({});domContext;constructor(e,t){this.opts=e,this.listContext=t,this.domContext=new qh(e.ref),this.attachment=Dt(this.opts.ref)}#s=(e="start")=>{if(!this.contentNode)return;this.restoreContentTabOrder();const t=Ks(this.contentNode);t.length&&cd(e==="start"?t:t.reverse(),()=>this.domContext.getActiveElement())};#a=()=>{if(!this.contentNode)return;const e=Ks(this.contentNode);e.length&&(this.restoreContentTabOrder=hd(e))};onEntryKeydown=this.#s;onFocusProxyEnter=this.#s;onRootContentClose=this.#a;onContentFocusOutside=this.#a;#o=N(()=>({id:this.opts.id.current,[st.item]:"",...this.attachment}));get props(){return m(this.#o)}set props(e){C(this.#o,e)}}const Ys=new wa("bitsLinkSelect",{bubbles:!0,cancelable:!0}),ud=new wa("bitsRootContentDismiss",{cancelable:!0,bubbles:!0});class On{static create(e){return new On(e,{provider:ai.get(),item:Ea.get()})}opts;context;attachment;#e=V(!1);get isFocused(){return m(this.#e)}set isFocused(e){C(this.#e,e,!0)}constructor(e,t){this.opts=e,this.context=t,this.attachment=Dt(this.opts.ref)}onclick=e=>{const t=e.currentTarget;Ys.listen(t,n=>this.opts.onSelect.current(n),{once:!0}),!Ys.dispatch(t).defaultPrevented&&!e.metaKey&&ud.dispatch(t)};onkeydown=e=>{this.context.item.contentNode||this.context.item.listContext.rovingFocusGroup.handleKeydown(this.opts.ref.current,e)};onfocus=e=>{this.isFocused=!0};onblur=e=>{this.isFocused=!1};#t=()=>{const e=this.context.provider.opts.value.current,t=this.context.item.opts.value.current===e,r=this.context.item.listContext.context.activeItem;r&&!r.opts.openOnHover.current||e&&!t&&this.context.provider.onItemDismiss()};onpointerenter=()=>{this.#t()};onpointermove=dd(()=>{this.#t()});#r=N(()=>({id:this.opts.id.current,"data-active":this.opts.active.current?"":void 0,"aria-current":this.opts.active.current?"page":void 0,"data-focused":this.isFocused?"":void 0,onclick:this.onclick,onkeydown:this.onkeydown,onfocus:this.onfocus,onblur:this.onblur,onpointerenter:this.onpointerenter,onpointermove:this.onpointermove,[st.link]:"",...this.attachment}));get props(){return m(this.#r)}set props(e){C(this.#r,e)}}class Nn{static create(e){return new Nn(e,ai.get())}opts;context;attachment;#e=N(()=>!!this.context.opts.value.current);get open(){return m(this.#e)}set open(e){C(this.#e,e)}#t=N(()=>this.size?`${this.size.width}px`:void 0);get viewportWidth(){return m(this.#t)}set viewportWidth(e){C(this.#t,e)}#r=N(()=>this.size?`${this.size.height}px`:void 0);get viewportHeight(){return m(this.#r)}set viewportHeight(e){C(this.#r,e)}#i=N(()=>this.context.opts.value.current);get activeContentValue(){return m(this.#i)}set activeContentValue(e){C(this.#i,e)}#n=V(null);get size(){return m(this.#n)}set size(e){C(this.#n,e,!0)}#s=V(null);get contentNode(){return m(this.#s)}set contentNode(e){C(this.#s,e,!0)}#a=V(!1);get mounted(){return m(this.#a)}set mounted(e){C(this.#a,e,!0)}constructor(e,t){this.opts=e,this.context=t,this.attachment=Dt(this.opts.ref,r=>this.context.viewportRef.current=r),Mt([()=>this.activeContentValue,()=>this.open],()=>{$h(()=>{const r=this.context.viewportRef.current;if(!r)return;const n=r.querySelector("[data-state=open]")?.children?.[0]??null;this.contentNode=n})}),new ld(()=>this.contentNode,()=>{this.contentNode&&(this.size={width:this.contentNode.offsetWidth,height:this.contentNode.offsetHeight})}),Mt(()=>this.mounted,()=>{!this.mounted&&this.size&&(this.size=null)})}#o=N(()=>({id:this.opts.id.current,"data-state":Uh(this.open),"data-orientation":this.context.opts.orientation.current,style:{pointerEvents:!this.open&&this.context.opts.isRootMenu?"none":void 0,"--bits-navigation-menu-viewport-width":this.viewportWidth,"--bits-navigation-menu-viewport-height":this.viewportHeight},[st.viewport]:"",onpointerenter:this.context.onContentEnter,onpointerleave:this.context.onContentLeave,...this.attachment}));get props(){return m(this.#o)}set props(e){C(this.#o,e)}}function cd(i,e){const t=e();return i.some(r=>r===t?!0:(r.focus(),e()!==t))}function hd(i){return i.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{i.forEach(e=>{const t=e.dataset.tabindex;e.setAttribute("tabindex",t)})}}function dd(i){return e=>e.pointerType==="mouse"?i(e):void 0}var fd=ne("<nav><!></nav>");function pd(i,e){const t=dr();re(e,!0);let r=A(e,"id",19,()=>br(t)),n=A(e,"ref",15,null),s=A(e,"value",15,""),o=A(e,"onValueChange",3,Ie),a=A(e,"delayDuration",3,200),l=A(e,"skipDelayDuration",3,300),u=A(e,"dir",3,"ltr"),c=A(e,"orientation",3,"horizontal"),h=ke(e,["$$slots","$$events","$$legacy","child","children","id","ref","value","onValueChange","delayDuration","skipDelayDuration","dir","orientation"]);const p=$n.create({id:U(()=>r()),value:U(()=>s(),E=>{s(E),o()(E)}),delayDuration:U(()=>a()),skipDelayDuration:U(()=>l()),dir:U(()=>u()),orientation:U(()=>c()),ref:U(()=>n(),E=>n(E))}),d=N(()=>Nt({"aria-label":"main"},h,p.props));var v=Q(),f=j(v);{var _=E=>{var S=Q(),I=j(S);ce(I,()=>e.child,()=>({props:m(d)})),$(E,S)},y=E=>{var S=fd();It(S,()=>({...m(d)}));var I=Fe(S);ce(I,()=>e.children??De),Re(S),$(E,S)};Le(f,E=>{e.child?E(_):E(y,!1)})}$(i,v),ie()}var gd=ne("<li><!></li>");function vd(i,e){const t=dr();re(e,!0);const r=br(t);let n=A(e,"id",3,r),s=A(e,"value",3,r),o=A(e,"ref",15,null),a=A(e,"openOnHover",3,!0),l=ke(e,["$$slots","$$events","$$legacy","id","value","ref","child","children","openOnHover"]);const u=Rn.create({id:U(()=>n()),ref:U(()=>o(),f=>o(f)),value:U(()=>s()),openOnHover:U(()=>a())}),c=N(()=>Nt(l,u.props));var h=Q(),p=j(h);{var d=f=>{var _=Q(),y=j(_);ce(y,()=>e.child,()=>({props:m(c)})),$(f,_)},v=f=>{var _=gd();It(_,()=>({...m(c)}));var y=Fe(_);ce(y,()=>e.children??De),Re(_),$(f,_)};Le(p,f=>{e.child?f(d):f(v,!1)})}$(i,h),ie()}var _d=ne("<a><!></a>");function md(i,e){const t=dr();re(e,!0);let r=A(e,"id",19,()=>br(t)),n=A(e,"ref",15,null),s=A(e,"active",3,!1),o=A(e,"onSelect",3,Ie),a=A(e,"tabindex",3,0),l=ke(e,["$$slots","$$events","$$legacy","id","ref","child","children","active","onSelect","tabindex"]);const u=On.create({id:U(()=>r()),ref:U(()=>n(),f=>n(f)),active:U(()=>s()),onSelect:U(()=>o())}),c=N(()=>Nt(l,u.props,{tabindex:a()}));var h=Q(),p=j(h);{var d=f=>{var _=Q(),y=j(_);ce(y,()=>e.child,()=>({props:m(c)})),$(f,_)},v=f=>{var _=_d();It(_,()=>({...m(c)}));var y=Fe(_);ce(y,()=>e.children??De),Re(_),$(f,_)};Le(p,f=>{e.child?f(d):f(v,!1)})}$(i,h),ie()}var yd=ne("<!> <!>",1),bd=ne("<div><ul><!></ul></div> <!>",1);function wd(i,e){const t=dr();re(e,!0);let r=A(e,"id",19,()=>br(t)),n=A(e,"ref",15,null),s=ke(e,["$$slots","$$events","$$legacy","id","children","child","ref"]);const o=Fn.create({id:U(()=>r()),ref:U(()=>n(),d=>n(d))}),a=N(()=>Nt(s,o.props)),l=N(()=>Nt(o.wrapperProps));var u=Q(),c=j(u);{var h=d=>{var v=yd(),f=j(v);ce(f,()=>e.child,()=>({props:m(a),wrapperProps:m(l)}));var _=we(f,2);hn(_,{get mounted(){return o.wrapperMounted},set mounted(y){o.wrapperMounted=y}}),$(d,v)},p=d=>{var v=bd(),f=j(v);It(f,()=>({...m(l)}));var _=Fe(f);It(_,()=>({...m(a)}));var y=Fe(_);ce(y,()=>e.children??De),Re(_),Re(f);var E=we(f,2);hn(E,{get mounted(){return o.wrapperMounted},set mounted(S){o.wrapperMounted=S}}),$(d,v)};Le(c,d=>{e.child?d(h):d(p,!1)})}$(i,u),ie()}var Ed=ne("<div><!></div>"),xd=ne("<!> <!>",1);function Sd(i,e){const t=dr();re(e,!0);let r=A(e,"id",19,()=>br(t)),n=A(e,"ref",15,null),s=A(e,"forceMount",3,!1),o=ke(e,["$$slots","$$events","$$legacy","id","ref","forceMount","child","children"]);const a=Nn.create({id:U(()=>r()),ref:U(()=>n(),u=>n(u))}),l=N(()=>Nt(o,a.props));{const u=h=>{var p=xd(),d=j(p);{var v=y=>{var E=Q(),S=j(E);ce(S,()=>e.child,()=>({props:m(l)})),$(y,E)},f=y=>{var E=Ed();It(E,()=>({...m(l)}));var S=Fe(E);ce(S,()=>e.children??De),Re(E),$(y,E)};Le(d,y=>{e.child?y(v):y(f,!1)})}var _=we(d,2);hn(_,{get mounted(){return a.mounted},set mounted(y){a.mounted=y}}),$(h,p)};let c=N(()=>s()||a.open);nd(i,{get open(){return m(c)},get ref(){return a.opts.ref},presence:u,$$slots:{presence:!0}})}ie()}var kd=ne("<div><!></div>");function Pd(i,e){re(e,!0);let t=A(e,"ref",15,null),r=ke(e,["$$slots","$$events","$$legacy","ref","class"]);var n=kd(),s=Fe(n);{let o=N(()=>Ct("origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--bits-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--bits-navigation-menu-viewport-width)]",e.class));pr(s,()=>Sd,(a,l)=>{l(a,_t({"data-slot":"navigation-menu-viewport",get class(){return m(o)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))})}Re(n),Lt(o=>za(n,1,o),[()=>Ha(Ct("absolute left-0 top-full isolate z-50 flex justify-center"))]),$(i,n),ie()}var Td=ne("<!> <!>",1);function Xs(i,e){re(e,!0);let t=A(e,"ref",15,null),r=A(e,"viewport",3,!0),n=ke(e,["$$slots","$$events","$$legacy","ref","class","viewport","children"]);var s=Q(),o=j(s);{let a=N(()=>Ct("group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",e.class));pr(o,()=>pd,(l,u)=>{u(l,_t({"data-slot":"navigation-menu",get"data-viewport"(){return r()},get class(){return m(a)}},()=>n,{get ref(){return t()},set ref(c){t(c)},children:(c,h)=>{var p=Td(),d=j(p);ce(d,()=>e.children??De);var v=we(d,2);{var f=_=>{Pd(_,{})};Le(v,_=>{r()&&_(f)})}$(c,p)},$$slots:{default:!0}}))})}$(i,s),ie()}function Ai(i,e){re(e,!0);let t=A(e,"ref",15,null),r=ke(e,["$$slots","$$events","$$legacy","ref","class"]);var n=Q(),s=j(n);{let o=N(()=>Ct("relative",e.class));pr(s,()=>vd,(a,l)=>{l(a,_t({"data-slot":"navigation-menu-item",get class(){return m(o)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))})}$(i,n),ie()}function $i(i,e){re(e,!0);let t=A(e,"ref",15,null),r=ke(e,["$$slots","$$events","$$legacy","ref","class"]);var n=Q(),s=j(n);{let o=N(()=>Ct("data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm outline-none transition-all focus-visible:outline-1 focus-visible:ring-[3px] [&_svg:not([class*='size-'])]:size-4",e.class));pr(s,()=>md,(a,l)=>{l(a,_t({"data-slot":"navigation-menu-link",get class(){return m(o)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))})}$(i,n),ie()}function Js(i,e){re(e,!0);let t=A(e,"ref",15,null),r=ke(e,["$$slots","$$events","$$legacy","ref","class"]);var n=Q(),s=j(n);{let o=N(()=>Ct("group flex flex-1 list-none items-center justify-center gap-1",e.class));pr(s,()=>wd,(a,l)=>{l(a,_t({"data-slot":"navigation-menu-list",get class(){return m(o)}},()=>r,{get ref(){return t()},set ref(u){t(u)}}))})}$(i,n),ie()}Ba({base:"bg-background hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[state=open]:hover:bg-accent data-[state=open]:text-accent-foreground data-[state=open]:focus:bg-accent data-[state=open]:bg-accent/50 focus-visible:ring-ring/50 group inline-flex h-9 w-max items-center justify-center rounded-md px-4 py-2 text-sm font-medium outline-none transition-[color,box-shadow] focus-visible:outline-1 focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50"});function Id(i,e){re(e,!0);/**
 * @license @lucide/svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=ke(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];Qs(i,_t({name:"sun"},()=>t,{get iconNode(){return r},children:(n,s)=>{var o=Q(),a=j(o);ce(a,()=>e.children??De),$(n,o)},$$slots:{default:!0}})),ie()}function Cd(i,e){re(e,!0);/**
 * @license @lucide/svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let t=ke(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];Qs(i,_t({name:"moon"},()=>t,{get iconNode(){return r},children:(n,s)=>{var o=Q(),a=j(o);ce(a,()=>e.children??De),$(n,o)},$$slots:{default:!0}})),ie()}var Ad=ne('<!> <!> <span class="sr-only">Toggle theme</span>',1);function $d(i){Va(i,{get onclick(){return Vc},variant:"ghost",size:"icon",class:"cursor-pointer",children:(e,t)=>{var r=Ad(),n=j(r);Id(n,{class:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 !transition-all dark:-rotate-90 dark:scale-0"});var s=we(n,2);Cd(s,{class:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 !transition-all dark:rotate-0 dark:scale-100"}),$r(2),$(e,r)},$$slots:{default:!0}})}var Fd=ne("<!> <!>",1),Rd=ne('<nav class="flex items-center justify-between px-6 py-0.5 border-b bg-background text-foreground"><div class="flex items-center gap-6"><a class="cursor-pointer font-semibold text-lg">Civical</a> <!></div> <div class="flex items-center gap-6"><!> <!></div></nav>');function Od(i){var e=Rd(),t=Fe(e),r=Fe(t),n=we(r,2);Xs(n,{children:(l,u)=>{Js(l,{class:"flex space-x-6",children:(c,h)=>{var p=Fd(),d=j(p);Ai(d,{children:(f,_)=>{$i(f,{class:"cursor-pointer text-sm font-medium hover:text-primary transition-colors",get href(){return`${Er??""}/sieve-analysis`},children:(y,E)=>{$r();var S=ci("Sieve Analysis");$(y,S)},$$slots:{default:!0}})},$$slots:{default:!0}});var v=we(d,2);Ai(v,{children:(f,_)=>{$i(f,{class:"cursor-pointer text-sm font-medium hover:text-primary transition-colors",get href(){return`${Er??""}/mix-design`},children:(y,E)=>{$r();var S=ci("Mix Design");$(y,S)},$$slots:{default:!0}})},$$slots:{default:!0}}),$(c,p)},$$slots:{default:!0}})},$$slots:{default:!0}}),Re(t);var s=we(t,2),o=Fe(s);Xs(o,{children:(l,u)=>{Js(l,{class:"flex space-x-6",children:(c,h)=>{Ai(c,{children:(p,d)=>{$i(p,{class:"cursor-pointer text-sm font-medium hover:text-primary transition-colors",get href(){return`${Er??""}/about`},children:(v,f)=>{$r();var _=ci("About");$(v,_)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=we(o,2);$d(a),Re(s),Re(e),Lt(()=>ei(r,"href",`${Er??""}/`)),$(i,e)}var Nd=ne('<link rel="icon"/>'),Md=ne("<!> <!> <!>",1);function Yd(i,e){var t=Md();Zs(o=>{var a=Nd();Lt(()=>ei(a,"href",sc)),$(o,a)});var r=j(t);Od(r);var n=we(r,2);eh(n,{});var s=we(n,2);ce(s,()=>e.children??De),$(i,t)}export{Yd as component,Wd as universal};
